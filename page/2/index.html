<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    
    <title>LJ小窝</title>
    
    
        <meta name="keywords" content="LJ小窝">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="勿以恶小而为之 勿以善小而不为">
<meta property="og:type" content="website">
<meta property="og:title" content="LJ小窝">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="LJ小窝">
<meta property="og:description" content="勿以恶小而为之 勿以善小而不为">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LJ小窝">
<meta name="twitter:description" content="勿以恶小而为之 勿以善小而不为">
    

    
        <link rel="alternate" href="/atom.xml" title="LJ小窝" type="application/atom+xml">
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">
    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/libs/jquery/plugins/cookie/1.4.1/jquery.cookie.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>
</html>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">LJ小窝</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/">首页</a>
                
                    <a class="main-nav-link" href="/archives">归档</a>
                
                    <a class="main-nav-link" href="/categories">分类</a>
                
                    <a class="main-nav-link" href="/tags">标签</a>
                
                    <a class="main-nav-link" href="/about">关于</a>
                
            </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/">首页</a></td>
                
                    <td><a class="main-nav-link" href="/archives">归档</a></td>
                
                    <td><a class="main-nav-link" href="/categories">分类</a></td>
                
                    <td><a class="main-nav-link" href="/tags">标签</a></td>
                
                    <td><a class="main-nav-link" href="/about">关于</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索">
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap" id="categories">
        <h3 class="widget-title">
            <span>分类</span>
            &nbsp;
            <a id="allExpand" href="#">
                <i class="fa fa-angle-double-down fa-2x"></i>
            </a>
        </h3>
        
        
        
         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            C语言语法
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/C语言语法/CC_pointer_memry/">二级指针动态申请内存</a></li>  <li class="file"><a href="/wiki/C语言语法/struct_Analize/">struct定义语法</a></li>  <li class="file"><a href="/wiki/C语言语法/union定义/">union定义(转载)</a></li>  <li class="file"><a href="/wiki/C语言语法/堆区（heap）和栈区（stack）的区别/">堆区（heap）和栈区（stack）的区别(转载)</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Hybird
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            webview
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/Hybird/webview/gome-Webview/"></a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            weex
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/Hybird/weex/event-analize/">weex 事件原理分析</a></li>  <li class="file"><a href="/wiki/Hybird/weex/weex-conmunication/">weex 通信原理分析</a></li>  <li class="file"><a href="/wiki/Hybird/weex/weex-debug/">搭建weex断点调试环境</a></li>  <li class="file"><a href="/wiki/Hybird/weex/weex_one/">weex系列抄之一---环境搭建</a></li>  <li class="file"><a href="/wiki/Hybird/weex/weex_four/">weex系列抄之四---flex 布局</a></li>  <li class="file"><a href="/wiki/Hybird/weex/weex_two/">weex系列抄之二---weex原理</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            IOS
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Category
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS/Category/深入理解Objective-C：Category/">深入理解Objective-C：Category(转载)</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            GCD
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS/GCD/use-dispatch-semaphore/">dispatch_semaphore 的使用方法</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Mach_O
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS/Mach_O/machoviewer/">mach-o Viewer 源码学习</a></li>  <li class="file"><a href="/wiki/IOS/Mach_O/Mach_O_File_Struct/">Mach-o文件结构理解</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Runtime
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS/Runtime/Objective-C-消息发送与转发机制原理/">Objective-C 消息发送与转发机制原理</a></li>  <li class="file"><a href="/wiki/IOS/Runtime/runtime1/">runtime1</a></li>  <li class="file"><a href="/wiki/IOS/Runtime/meta_class/">What is a meta-class in Objective-C(译文)</a></li>  <li class="file"><a href="/wiki/IOS/Runtime/神经病院Objective-C-Runtime住院第二天——消息发送与转发（转载/">神经病院Objective-C Runtime住院第二天——消息发送与转发（转载)</a></li>  <li class="file"><a href="/wiki/IOS/Runtime/神经病院Objective-C-Runtime入院第一天——isa和Class/">神经病院Objective-C Runtime入院第一天——isa和Class(转载)</a></li>  <li class="file"><a href="/wiki/IOS/Runtime/神经病院Objective-C-Runtime出院第三天——如何正确使用Runtime-转载/">神经病院Objective-C Runtime出院第三天——如何正确使用Runtime(转载)</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            crash
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS/crash/KSCrash_Analize/">KSCrash崩溃收集原理浅析</a></li>  <li class="file"><a href="/wiki/IOS/crash/Analize_Crash/">收集、符号化IOS崩溃日志</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            foundation使用记录
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS/foundation使用记录/NSDateFormatter时间格式/">NSDateFormatter 时间格式</a></li>  <li class="file"><a href="/wiki/IOS/foundation使用记录/NSInvocation的基本使/">NSInvocation的基本使</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            事件处理
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS/事件处理/iOS事件处理/">iOS事件处理看我就够了(转载)</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            内存管理
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS/内存管理/内存学习/">内存学习</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            动态库
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS/动态库/static_lib_aggregate_script/">合并真机模拟器静态库(转载)</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            开源库学习
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS/开源库学习/fishHookPicture/">图解fishhook</a></li>  <li class="file"><a href="/wiki/IOS/开源库学习/fishhook/">fishhook学习记录</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            虚拟内存
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS/虚拟内存/指定初始化函数/">正确使用NS_DESIGNATED_INITIALIZER</a></li>  <li class="file"><a href="/wiki/IOS/虚拟内存/虚拟内存之2/">查看虚拟内存</a></li>  <li class="file"><a href="/wiki/IOS/虚拟内存/虚拟内存/">虚拟内存之一----关于</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            JS
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/JS/flexBox/">flexBox 伸缩盒子模型</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            工具
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Cocoapods
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/Cocoapods/Cocoapods-new-spec/">Cocoapods-new-spec</a></li>  <li class="file"><a href="/wiki/工具/Cocoapods/cocoapod-learn-install/">cocoapod学习 安装和使用（1）</a></li>  <li class="file"><a href="/wiki/工具/Cocoapods/cocoapod-private-repo/">创建私有仓库</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            IOS模拟器安装app
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/IOS模拟器安装app/IOS_simulator_install_app/">给IOS模拟器按照APP</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            SSH
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/SSH/ssh-theory/">图解SSH原理</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Xcode编译常量
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/Xcode编译常量/xcode编译环境变量/">Xcode编译环境变量</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            git
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            git简略版
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/git/git简略版/git简略版/">Git笔记</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            git详细记录
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/git/git详细记录/git仓库/">Git仓库(转载)</a></li>  <li class="file"><a href="/wiki/工具/git/git详细记录/git分支管理/">Git分支管理(转载)</a></li>  <li class="file"><a href="/wiki/工具/git/git详细记录/git工作区/">git时光穿梭(转载)</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            hexo
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/hexo/hexo-use/">hexo使用指南</a></li>  <li class="file"><a href="/wiki/工具/hexo/自己搭建博客的经历/">自己搭建博客的经历</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            ruby
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/ruby/homebrew-gem使用/">homebrew-gem使用.</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            工具下载地址
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/工具下载地址/工具下载地址/">工具下载地址</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            正则表达式
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/正则表达式/正则表达式学习/">正则表达式学习摘要</a></li>  </ul> 
                    </li> 
                     </ul> 
    </div>
    <script>
        $(document).ready(function() {
            var iconFolderOpenClass  = 'fa-folder-open';
            var iconFolderCloseClass = 'fa-folder';
            var iconAllExpandClass = 'fa-angle-double-down';
            var iconAllPackClass = 'fa-angle-double-up';
            // Handle directory-tree expansion:
            // 左键单独展开目录
            $(document).on('click', '#categories a[data-role="directory"]', function (event) {
                event.preventDefault();

                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var subtree = $(this).siblings('ul');
                icon.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if (expanded) {
                    if (typeof subtree != 'undefined') {
                        subtree.slideUp({ duration: 100 });
                    }
                    icon.addClass(iconFolderCloseClass);
                } else {
                    if (typeof subtree != 'undefined') {
                        subtree.slideDown({ duration: 100 });
                    }
                    icon.addClass(iconFolderOpenClass);
                }
            });
            // 右键展开下属所有目录
            $('#categories a[data-role="directory"]').bind("contextmenu", function(event){
                event.preventDefault();
                
                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var listNode = $(this).siblings('ul');
                var subtrees = $.merge(listNode.find('li ul'), listNode);
                var icons = $.merge(listNode.find('.fa'), icon);
                icons.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if(expanded) {
                    subtrees.slideUp({ duration: 100 });
                    icons.addClass(iconFolderCloseClass);
                } else {
                    subtrees.slideDown({ duration: 100 });
                    icons.addClass(iconFolderOpenClass);
                }
            })
            // 展开关闭所有目录按钮
            $(document).on('click', '#allExpand', function (event) {
                event.preventDefault();
                
                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconAllExpandClass);
                icon.removeClass(iconAllExpandClass).removeClass(iconAllPackClass);
                if(expanded) {
                    $('#sidebar .fa.fa-folder').removeClass('fa-folder').addClass('fa-folder-open')
                    $('#categories li ul').slideDown({ duration: 100 });
                    icon.addClass(iconAllPackClass);
                } else {
                    $('#sidebar .fa.fa-folder-open').removeClass('fa-folder-open').addClass('fa-folder')
                    $('#categories li ul').slideUp({ duration: 100 });
                    icon.addClass(iconAllExpandClass);
                }
            });  
        });
    </script>

    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
            <section id="main">
        <article id="post-Hybird/weex/weex_one" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Hybird/">Hybird</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Hybird/weex/">weex</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/weex/">weex</a>
    </div>

                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/wiki/Hybird/weex/weex_one/">
            <time datetime="2018-05-04T04:07:12.000Z" itemprop="datePublished">2018-05-04</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/wiki/Hybird/weex/weex_one/">weex系列抄之一---环境搭建</a>
        </h1>
    

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <h2 id="React-Native-和-Weex"><a href="#React-Native-和-Weex" class="headerlink" title="React Native 和 Weex"></a>React Native 和 Weex</h2><p>自从Weex出生的那一天起，就无法摆脱和React Native相互比较的命运。React Native宣称“Learn once, write anywhere”，而Weex宣称“Write Once, Run Everywhere”。Weex从出生那天起，就被给予了一统三端的厚望。React Native可以支持iOS、Android，而Weex可以支持iOS、Android、HTML5。</p>
<p>在Native端，两者的最大的区别可能就是在对JSBundle是否分包。React Native官方只允许将React Native基础JS库和业务JS一起打成一个JS bundle，没有提供分包的功能，所以如果想节约流量就必须制作分包打包工具。而Weex默认打的JS bundle只包含业务JS代码，体积小很多，基础JS库包含在Weex SDK中，这一点Weex与Facebook的React Native和微软的Cordova相比，Weex更加轻量，体积小巧。</p>
<p>在JS端，Weex又被人称为Vue Native，所以 React Native 和 Weex 的区别就在 React 和 Vue 两者上了。</p>
<p>笔者没有写过React Native，所以也没法客观的去比较两者。不过知乎上有一个关于Weex 和 React Native很好的对比文章<a href="https://zhuanlan.zhihu.com/p/21677103" rel="external nofollow noopener noreferrer" target="_blank">《weex&amp;React Native对比》</a>，推荐大家阅读。</p>
<p>前两天<a href="http://www.weibo.com/122678100" rel="external nofollow noopener noreferrer" target="_blank">@Allen 许帅</a>也在<a href="http://tech.glowing.com/cn/" rel="external nofollow noopener noreferrer" target="_blank">Glow 技术团队博客</a>上面发布了一篇<a href="http://tech.glowing.com/cn/react-native-at-glow/" rel="external nofollow noopener noreferrer" target="_blank">《React Native 在 Glow 的实践》</a>这篇文章里面也谈了很多关于React Native实践相关的点，也强烈推荐大家去阅读。</p>
<h2 id="入门手册"><a href="#入门手册" class="headerlink" title="入门手册"></a>入门手册</h2><p>关于小白想入门Weex，当然最基础的还是要通读文档，文档是官方最好的学习资料。官方的基础文档有两份：</p>
<p><a href="http://weex-project.io/cn/guide/" rel="external nofollow noopener noreferrer" target="_blank">教程文档</a><br><a href="http://weex-project.io/cn/references/" rel="external nofollow noopener noreferrer" target="_blank">手册文档</a></p>
<p>在文档手册里面包含了Weex所有目前有的组件，模块，每个组件和模块的用法和属性。遇到问题可以先过来翻翻。很有可能有些组件和模块没有那些属性。</p>
<h2 id="Weex系列工具"><a href="#Weex系列工具" class="headerlink" title="Weex系列工具"></a>Weex系列工具</h2><p>看完官方文档以后，就可以开始上手构建工程项目了。</p>
<p>Weex也和前端项目一样，拥有它自己的脚手架全家桶。</p>
<ol>
<li>weex-toolkit </li>
<li>weexpack </li>
<li>playground </li>
<li>code snippets </li>
<li>weex-devtool。</li>
</ol>
<h4 id="weex-toolkit"><a href="#weex-toolkit" class="headerlink" title="weex-toolkit"></a>weex-toolkit</h4><p>weex-toolkit是用来初始化项目，编译，运行，debug所有工具。</p>
<p>通过下面的命令安装 </p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> -g weex-toolkit</span><br></pre></td></tr></table></figure>
<p>安装完成后就可以使用weex 命令了 </p>
<p><img src="http://of685p9vy.bkt.clouddn.com/hybird/weex/weex-toolkit.png" alt=""></p>
<p>我们主要用的就是debug 和 compile命令。debug 是启动chrome调试器 、compile命令是将写好的js文件编译为JS bundle。</p>
<h4 id="weexpack"><a href="#weexpack" class="headerlink" title="weexpack"></a>weexpack</h4><p>weexpack是用来打包JSBundle的，实际也是对Webpack的封装。</p>
<h4 id="playground"><a href="#playground" class="headerlink" title="playground"></a>playground</h4><p>playground是一个上架的App，这个可以用来通过扫码实时在手机上显示出实际的页面。</p>
<p> <img src="http://of685p9vy.bkt.clouddn.com/hybird/weex/playground.png" alt=""></p>
<h4 id="code-snippets"><a href="#code-snippets" class="headerlink" title="code snippets"></a>code snippets</h4><p>code snippets这个是一个在线的playground。</p>
<p> <img src="http://of685p9vy.bkt.clouddn.com/hybird/weex/dotwe.png" alt=""></p>
<h4 id="weex-devtool"><a href="#weex-devtool" class="headerlink" title="weex-devtool"></a>weex-devtool</h4><p>weex-devtool 可以使用chrome调试JS 代码。  这个工具我认为主要方便前端开发使用。</p>
<p>使用步骤，首先启动调试服务，终端输入</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">weex</span> <span class="literal">debug</span></span><br></pre></td></tr></table></figure>
<p>结果如下:</p>
<p><img src="http://of685p9vy.bkt.clouddn.com/hybird/weex/weexdebug.png" alt=""></p>
<p>同时启动chrome。然后在代码中将host换为图中的host。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">NSString *strHost =  [[NSUserDefaults standardUserDefaults] <span class="string">objectForKey:</span>GWX_WEEX_DEBUG_HOST];</span><br><span class="line">    <span class="keyword">if</span>(strHost.length&gt;<span class="number">5</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        NSString *strURL = [NSString <span class="string">stringWithFormat:</span>@<span class="string">"ws://%@/debugProxy/native"</span>,strHost];</span><br><span class="line">        [WXDevTool <span class="string">setDebug:</span>YES];</span><br><span class="line">        [WXLog <span class="string">setLogLevel:</span>WXLogLevelLog];</span><br><span class="line">        [WXDevTool <span class="string">launchDevToolDebugWithUrl:</span>strURL];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        [WXDebugTool <span class="string">setDebug:</span>NO];</span><br><span class="line">        [WXLog <span class="string">setLogLevel:</span>WXLogLevelError];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>启动app，看到app链接到了 chrome调试服务器 </p>
<p><img src="http://of685p9vy.bkt.clouddn.com/hybird/weex/weexdebugapp.png" alt=""></p>
<p>下图是debuger 截图 ：</p>
<p><img src="http://of685p9vy.bkt.clouddn.com/hybird/weex/weexdebugdebug.png" alt=""></p>
<p>下图是inspect截图：<br><img src="http://of685p9vy.bkt.clouddn.com/hybird/weex/weexdebugpage.png" alt=""></p>
<p>具体使用方法看这两篇文章即可：</p>
<ol>
<li><p><a href="https://zhuanlan.zhihu.com/p/25331465" rel="external nofollow noopener noreferrer" target="_blank">《Weex 入坑指南：Debug 调试是一门手艺活》</a>  </p>
</li>
<li><p><a href="https://github.com/weexteam/article/issues/50" rel="external nofollow noopener noreferrer" target="_blank">《Weex调试神器——Weex Devtools使用手册》</a></p>
</li>
</ol>
<h2 id="Weex-Market插件"><a href="#Weex-Market插件" class="headerlink" title="Weex Market插件"></a><a href="https://github.com/halfrost/Halfrost-Field/blob/master/contents/iOS/Weex/Weex_pseudo-best_practices_for_iOS_developers.md#2-weex-market%E6%8F%92%E4%BB%B6" rel="external nofollow noopener noreferrer" target="_blank">Weex Market插件</a></h2><p>在日常开发中，我们可以全部自己开发完所有的Weex界面，当然还可以用一些已有的优秀的轮子。Weex的所有优秀的轮子都在Weex Market里面。</p>
<p> <a href="https://camo.githubusercontent.com/bdaba9a49b7d7b32486fb7d68a1c5c965c07b19c/687474703a2f2f75706c6f61642d696d616765732e6a69616e7368752e696f2f75706c6f61645f696d616765732f313139343031322d353631643838663562333739353763352e706e673f696d6167654d6f6772322f6175746f2d6f7269656e742f7374726970253743696d61676556696577322f322f772f31323430" rel="external nofollow noopener noreferrer" target="_blank">Weex Market</a> </p>
<p>在这个Market里面有很多已经写好的轮子，直接拿来用，可以节约很多时间。</p>
<p>比如这里很火的weex-chart。weex-chart图表插件是通过g2-mobile依赖[gcanvas插件][23]实现的</p>
<p>如果你想使用[Weex Market][24]的Plugin插件，你可以使用weex plugin 命令：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ weex plugin <span class="keyword">add</span><span class="bash"> plugin_name</span></span><br></pre></td></tr></table></figure>
<p>你只需要输入插件的名称就可以从远程添加插件到你本地的项目，比如添加 weex-chart，我们可以输入命令：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ weex plugin <span class="keyword">add</span><span class="bash"> weex-chart</span></span><br></pre></td></tr></table></figure>
<p>我们可以使用plugin remove移除插件，比如移除安装好的 weex-cahrt：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ weex plugin <span class="builtin-name">remove</span> weex-chart</span><br></pre></td></tr></table></figure>
<p>这个插件库里面我用过weex-router，还不错，用它来做weex的路由管理。推荐使用。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="http://weex-project.io/cn/guide/" rel="external nofollow noopener noreferrer" target="_blank">官方教程</a></li>
<li><a href="http://weex-project.io/cn/references/" rel="external nofollow noopener noreferrer" target="_blank">官方手册</a></li>
<li><a href="https://github.com/halfrost/Halfrost-Field/blob/master/contents/iOS/Weex/Weex_pseudo-best_practices_for_iOS_developers.md#ios-开发者的-weex-伪最佳实践指北" rel="external nofollow noopener noreferrer" target="_blank">iOS 开发者的 Weex 伪最佳实践指北</a></li>
</ol>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-IOS/事件处理/iOS事件处理" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/IOS/">IOS</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/IOS/事件处理/">事件处理</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/事件处理/">事件处理</a>
    </div>

                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/wiki/IOS/事件处理/iOS事件处理/">
            <time datetime="2018-04-27T04:07:12.000Z" itemprop="datePublished">2018-04-27</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/wiki/IOS/事件处理/iOS事件处理/">iOS事件处理看我就够了(转载)</a>
        </h1>
    

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
                
                <p></p><p>本文转载自<a href="https://www.jianshu.com/p/b0884faae603" rel="external nofollow noopener noreferrer" target="_blank">iOS事件处理，看我就够了~</a></p><p></p>
            
        
        
            </div>   
            <div class="article-more-link">
                <a href="/wiki/IOS/事件处理/iOS事件处理/#more">查看更多</a>
            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-工具/ruby/homebrew-gem使用" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/工具/">工具</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/工具/ruby/">ruby</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/工具/">工具</a>
    </div>

                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/wiki/工具/ruby/homebrew-gem使用/">
            <time datetime="2018-04-23T04:07:12.000Z" itemprop="datePublished">2018-04-23</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/wiki/工具/ruby/homebrew-gem使用/">homebrew-gem使用.</a>
        </h1>
    

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
                
                <p></p><p>最近使用cocoapod更新repo会报下面错误：</p>
<p>Updating spec repo <code>master</code><br>[!] Failed to connect to GitHub to update the CocoaPods/Specs specs repo - Please check if you are offline, or that GitHub is down</p>
<p>经过查找，发现GitHub在2018年2月23日移除了弱加密标准，导致无法正常连接到GitHub。<a href="https://blog.github.com/2018-02-23-weak-cryptographic-standards-removed/" rel="external nofollow noopener noreferrer" target="_blank">传送门</a>。</p>
<p>解决办法是：升级Cocoapod、openssl、ruby。首先介绍下更新ruby使用的Homebrew。</p><p></p>
            
        
        
            </div>   
            <div class="article-more-link">
                <a href="/wiki/工具/ruby/homebrew-gem使用/#more">查看更多</a>
            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-Hybird/webview/gome-Webview" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <p>通用webview记录 </p>
<p>目录：</p>
<ol>
<li><a href="#webview1">为什么做通用webView</a></li>
<li><a href="#webview2">通用webView与混合式app的联系</a></li>
<li><a href="#webview3">WKWebview介绍</a></li>
<li><a href="#webview4">通用webView与JS交互形式</a></li>
<li><a href="#webview5">现有webView支持那些JS交互</a></li>
<li><a href="#webview6">插件的扩展方法</a></li>
<li><a href="#webview7">webview中遇到的问题</a></li>
<li><a href="#webview8">调试Webview的JS代码方法</a></li>
<li><a href="#webview9">参考</a></li>
</ol>
<h1 id="1、为什么做通用webView"><a href="#1、为什么做通用webView" class="headerlink" title=" 1、为什么做通用webView"></a><div id="webview1"> 1、为什么做通用webView</div></h1><ol>
<li>两套webview代码：维护复杂、两者交互难。比如：使用在线模板加载美信页面就会遇到问题。</li>
<li>JS交互不统一：美信模板普遍使用URL方式于Native交互，在线模板主要使用JSBridge交互，并且不同模块的Bridge也有一定的区别，不是统一的。</li>
</ol>
<p>为了解决上面问题，就需要融合两套webview，并使用统一的JS交互机制，JS交互机制最后使用的是现有混合app的js交互机制–cordova，同时为了提高性能，统一将UIwebview替换为WKWebview。</p>
<p>所以主要工作有两部分：</p>
<ol>
<li>使用wkwebview构建新的综合模板</li>
<li>重新规划、开发混合app和Webview的插件</li>
</ol>
<h2 id="2、通用webView与混合式app的联系"><a href="#2、通用webView与混合式app的联系" class="headerlink" title=" 2、通用webView与混合式app的联系"></a><div id="webview2"> 2、通用webView与混合式app的联系</div></h2><p>混合app和webview有非常相似的功能，但也有一定的区别，下图的目的是说明它俩的关系：</p>
<p><img src="http://of685p9vy.bkt.clouddn.com/hybird/webview/webview/webview_cordova.png" alt="webView与混合式app"></p>
<p>图1</p>
<p>混合app和通用webview都是使用WKWebview容器渲染html页面，并使用统一的JS交互机制于Native交互。唯一不同点是：混合app启动的时候将远端的html文件以插件或组件的形式下载到本地，当渲染混合app的时候，根据插件信息，查找本地的html文件，并加载。而通用webview直接使用URL加载部署在远端服务器上的html文件。所以混合app的体验、性能都优于通用webview。</p>
<h2 id="3、WKWebview-介绍"><a href="#3、WKWebview-介绍" class="headerlink" title="3、WKWebview 介绍"></a><div id="webview3">3、WKWebview 介绍</div></h2><p>iOS8之后苹果推荐使用WKWebView替代UIWebView，其主要的有点有：</p>
<ol>
<li>WKWebView更多的支持HTML5的特性</li>
<li>WKWebView更快，占用内存可能只有UIWebView的1/3 ~ 1/4</li>
<li>WKWebView高达60fps的滚动刷新率和丰富的内置手势</li>
<li>WKWebView具有Safari相同的JavaScript引擎</li>
<li>WKWebView增加了加载进度属性</li>
<li>将UIWebViewDelegate和UIWebView重构成了14个类与3个协议</li>
</ol>
<h3 id="3-1-创建WKWebview"><a href="#3-1-创建WKWebview" class="headerlink" title="3.1 创建WKWebview"></a>3.1 创建WKWebview</h3><p>WKWebview既可以使用alloc、init方法创建，也可以使用自己的方法创建，下面是创建WKWebview的实例代码：</p>
<pre><code>WKUserContentController* userContentController = [[WKUserContentController alloc] init];
[userContentController addScriptMessageHandler:self name:CDV_BRIDGE_NAME];

WKWebViewConfiguration* configuration = [[WKWebViewConfiguration alloc] init];
configuration.userContentController = userContentController;

WKWebView* wkWebView = [[WKWebView alloc] initWithFrame:frame configuration:configuration];
</code></pre><h3 id="3-2-WKWebview加载页面"><a href="#3-2-WKWebview加载页面" class="headerlink" title="3.2 WKWebview加载页面"></a>3.2 WKWebview加载页面</h3><pre><code>WKWebView *webView =self.webViewEngine.engineWebView;
strUrl = [strUrl stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
NSURL *url = [NSURL URLWithString:GMK_Str_Protect(strUrl)];
if (nil == url)
{
    [self notFoundHtml];
    return;
}
NSMutableURLRequest* appReq = [NSMutableURLRequest requestWithURL:url
                                            cachePolicy:NSURLRequestUseProtocolCachePolicy
                                                  timeoutInterval:20.0];
if (nil == appReq)
{
    [self notFoundHtml];
    return;
}

[self.webViewEngine loadRequest:appReq];
</code></pre><h3 id="3-3-WKWebview代理"><a href="#3-3-WKWebview代理" class="headerlink" title="3.3 WKWebview代理"></a>3.3 WKWebview代理</h3><p>WKWebView有两个代理,WKUIDelegate 和 WKNavigationDelegate。WKNavigationDelegate主要处理一些跳转、加载处理操作；WKUIDelegate主要处理UI相关的操作：确认框，警告框，提示框。因此WKNavigationDelegate更加常用。下面是WKNavigationDelegate的代理列表：</p>
<pre><code>///二、页面是否加载 ，相当于shouldStartLoadWithRequest
- (void) webView: (WKWebView *) webView decidePolicyForNavigationAction: (WKNavigationAction*) navigationAction decisionHandler: (void (^)(WKNavigationActionPolicy)) decisionHandler
{
    //允许跳转
    decisionHandler(WKNavigationResponsePolicyAllow);
    //不允许跳转
    //decisionHandler(WKNavigationResponsePolicyCancel);
}

///三、页面开始加载
- (void)webView:(WKWebView*)webView didStartProvisionalNavigation:(WKNavigation*)navigation
{

}
///四、收到响应
- (void)webView:(WKWebView *)webView decidePolicyForNavigationResponse:(WKNavigationResponse *)navigationResponse decisionHandler:(void (^)(WKNavigationResponsePolicy))decisionHandler 
{
    //允许跳转
    decisionHandler(WKNavigationResponsePolicyAllow);
    //不允许跳转
    //decisionHandler(WKNavigationResponsePolicyCancel);
}
///五、收到数据
- (void)webView:(WKWebView *)webView didCommitNavigation:(WKNavigation *)navigation 
{ 
}
///六、页面加载完成
- (void)webView:(WKWebView*)webView didFinishNavigation:(WKNavigation*)navigation
{
}
///七、页面加载失败
- (void)webView:(WKWebView*)theWebView didFailNavigation:(WKNavigation*)navigation withError:(NSError*)error
{

}
/// 八、跳转失败
- (void)webView:(WKWebView *)webView didFailProvisionalNavigation:(null_unspecified WKNavigation *)navigation withError:(NSError *)error
{

}
/// 九、重定向
- (void)webView:(WKWebView *)webView didReceiveServerRedirectForProvisionalNavigation:(null_unspecified WKNavigation *)navigation
{
}

///十、这个目的解决白屏问题  （ios9以上）
- (void)webViewWebContentProcessDidTerminate:(WKWebView *)webView API_AVAILABLE(macosx(10.11), ios(9.0))
{
    [self loadRequestWithUrl:self.strCurrentURL];
}
</code></pre><p>WKUIDelegate有下面三个代理：</p>
<pre><code>- (void)                        webView:(WKWebView*)webView
     runJavaScriptAlertPanelWithMessage:(NSString*)message
                       initiatedByFrame:(WKFrameInfo*)frame
                      completionHandler:(void (^)(void))completionHandler

- (void)                        webView:(WKWebView*)webView
   runJavaScriptConfirmPanelWithMessage:(NSString*)message
                       initiatedByFrame:(WKFrameInfo*)frame
                      completionHandler:(void (^)(BOOL result))completionHandler

- (void)                        webView:(WKWebView*)webView
  runJavaScriptTextInputPanelWithPrompt:(NSString*)prompt
                            defaultText:(NSString*)defaultText
                       initiatedByFrame:(WKFrameInfo*)frame
                      completionHandler:(void (^)(NSString* result))completionHandler
</code></pre><h3 id="3-3-WKUserContentController"><a href="#3-3-WKUserContentController" class="headerlink" title="3.3 WKUserContentController"></a>3.3 WKUserContentController</h3><p>A WKUserContentController object provides a way for JavaScript to post<br> messages to a web view.</p>
<p> WKUserContentController 对象为JavaSript提供了向webview发送消息的方式。</p>
<p> The user content controller associated with a web view is specified by its<br> web view configuration.</p>
<p> WKUserContentController 通过WKWebViewConfiguration 关联到webview。</p>
<p> 下面的代码是创建WKUserContentController，并关联到WKWebview的代码：</p>
<pre><code>///创建WKUserContentController
WKUserContentController* userContentController = [[WKUserContentController alloc] init];
[userContentController addScriptMessageHandler:self name:CDV_BRIDGE_NAME];

///关联到webview
WKWebViewConfiguration* configuration = [[WKWebViewConfiguration alloc] init];
configuration.userContentController = userContentController
</code></pre><p>关联以后，JS就可以通过下面的代码向WKWebview发送消息。</p>
<pre><code>window.webkit.messageHandlers.&lt;name&gt;.postMessage(&lt;messageBody&gt;)
</code></pre><p>WKWebview接收到JS的消息后，会触发WKScriptMessageHandler协议的userContentController：didReceiveScriptMessage:方法：</p>
<pre><code>- (void)userContentController:(WKUserContentController*)userContentController
  didReceiveScriptMessage:(WKScriptMessage*)message
{
    if (![message.name isEqualToString:CDV_BRIDGE_NAME]) {
        return;
    }

    CDVViewController* vc = (CDVViewController*)self.viewController;
    NSArray* jsonEntry = message.body; // NSString:callbackId, NSString:service, NSString:action, NSArray:args
}
</code></pre><p>在这个方法中就可以根据消息的内容，调用Native的功能。</p>
<h3 id="3-4-动态注入JS"><a href="#3-4-动态注入JS" class="headerlink" title="3.4 动态注入JS"></a>3.4 动态注入JS</h3><p>WKWebview支持将JS预先注入到Webview中，可以定制带document加载前或者后执行注入的JS。注入JS是将WKUserScript关联的webview的configuration中，代码示例如下。</p>
<pre><code>/// 4. cookie信息脚本()
WKUserScript * cookieScript = [[WKUserScript alloc]
                                   initWithSource:mstrCookieInfo
                                   injectionTime:WKUserScriptInjectionTimeAtDocumentStart forMainFrameOnly:NO];
if (GMK_Ary_Is_Valid(webView.configuration.userContentController.userScripts))
{
    [webView.configuration.userContentController removeAllUserScripts];
}
if (script)
{
    [webView.configuration.userContentController addUserScript:script];
}
</code></pre><h1 id="4、通用webView与JS交互"><a href="#4、通用webView与JS交互" class="headerlink" title=" 4、通用webView与JS交互"></a><div id="webview4"> 4、通用webView与JS交互</div></h1><p>下图是cordova中JS和Native的交互机制<br><img src="http://of685p9vy.bkt.clouddn.com/hybird/webview/webview/Cordova_JS.png" alt="cordova中JS和Native的交互机制"></p>
<p>下面是 cordova源码的结构<br><img src="http://of685p9vy.bkt.clouddn.com/hybird/webview/webview/Cordova_class_ship.png" alt="cordovad的组织结构"></p>
<p>下面是 cordova初始化webview的流程<br><img src="http://of685p9vy.bkt.clouddn.com/hybird/webview/webview/Cordova_init.png" alt="cordovad的组织结构"></p>
<h2 id="5、现有webView支持那些JS交互"><a href="#5、现有webView支持那些JS交互" class="headerlink" title="5、现有webView支持那些JS交互"></a><div id="webview5">5、现有webView支持那些JS交互</div></h2><p>在开发通用webview的时候，统一规划了插件。规划后插件列表如下：</p>
<ol>
<li>cordova-plugin-gome-AddressBook 通信录插件，包含选择联系人接口</li>
<li>cordova-plugin-gome-business 业务类型插件，包括上传金融加密 face++，我的国美关闭浮层等接口</li>
<li>cordova-plugin-gome-cashier收银台插件</li>
<li>cordova-plugin-gome-CustomerService在线客服插件</li>
<li>cordova-plugin-gome-device  设备信息插件，包括拨打电话、获取设备信息接口</li>
<li>cordova-plugin-gome-location 定位插件，包括获取四级区域信息接口</li>
<li>cordova-plugin-gome-login登录插件，包括调起登录，用户信息，是否登录接口</li>
<li>cordova-plugin-gome-network 网络请求插件，包括发送网络请求、获取网络连接状态接口</li>
<li>cordova-plugin-gome-picture 图片插件，包括调起原生插件、保存图片</li>
<li>cordova-plugin-gome-route 路由插件，包括打开vc，关闭当前页面接口</li>
<li>cordova-plugin-gome-share 分享插件，包括调起分享组件接口</li>
<li>cordova-plugin-gome-shopChat购物车插件，包括刷新购物车数量接口</li>
<li>cordova-plugin-gome-statistics统计插件 ，webview埋点时候</li>
<li>cordova-plugin-gome-view视图插件，包括toast、 初始化导航栏、错误页面、显示隐藏导航栏接口</li>
</ol>
<p>所有插件的详细信息请参考：<a href="http://m-wiki.ds.gome.com.cn/android/hybrid/Plugins.html" rel="external nofollow noopener noreferrer" target="_blank">plugin插件列表</a></p>
<h1 id="6、插件的扩展方法"><a href="#6、插件的扩展方法" class="headerlink" title="6、插件的扩展方法"></a><div id="webview6">6、插件的扩展方法</div></h1><p>如果现有的插件不能满足新的需求，需要扩展新的插件，扩展方法如下：</p>
<ul>
<li><p>首先确定插件的别名，这个名字需要三端一样，然后确定插件的类名（这个按照代码规范命名就可以）。</p>
</li>
<li><p>将插件别名和插件类名的对应关系添加到cordova的配置文件中。配置文件查找方法、书写方法如图：</p>
</li>
</ul>
<p><img src="http://of685p9vy.bkt.clouddn.com/hybird/webview/webview/cordova_config1.png" alt="插件扩展方法1"><br>图1<br><img src="http://of685p9vy.bkt.clouddn.com/hybird/webview/webview/cordova_config2.png" alt="插件扩展方法2"><br>图2<br><img src="http://of685p9vy.bkt.clouddn.com/hybird/webview/webview/cordova_config3.png" alt="插件扩展方法3"><br>图3</p>
<ul>
<li><p>创建插件类，这个类必须继承于CDVPlugin类；</p>
</li>
<li><p>定义插件方法，插件方法需要三端统一。方法的格式就是：-(void)<methodname>:(CDVInvokedUrlCommand *)command；</methodname></p>
</li>
<li><p>实现方法，实现插件方法分3部分：解析参数判断、完成Native的功能、将结果回调给JS；</p>
</li>
</ul>
<p>参数解析：</p>
<p>CDVInvokedUrlCommand 类是对JS传递过来参数的封装，我们从arguments属性中获取参数，CDVInvokedUrlCommand的属性定义如下：</p>
<pre><code>@property (nonatomic, readonly) NSArray* arguments;
@property (nonatomic, readonly) NSString* callbackId;
@property (nonatomic, readonly) NSString* className;
@property (nonatomic, readonly) NSString* methodName;
</code></pre><p>回调结果：</p>
<p>回调的数据格式需要预先定义好，然后使用下面的代码将数据回调给JS：</p>
<pre><code>NSDictionary *dic = @{GMM_ViewPlugin_Successed:@&quot;Y&quot;};
CDVPluginResult * result=[CDVPluginResult resultWithStatus:CDVCommandStatus_OK 
                                       messageAsDictionary:dic];
[self.commandDelegate sendPluginResult:result callbackId:command.callbackId];
</code></pre><h1 id="7、webview中遇到的问题"><a href="#7、webview中遇到的问题" class="headerlink" title="7、webview中遇到的问题"></a><div id="webview7">7、webview中遇到的问题</div></h1><ul>
<li><p>_blank 问题：</p>
<p> a便签中如果有_blank属性，表示在新的窗口打开页面，但是我们打不开，解决办法是添加如下代理的实现，直接在当前窗口加载url</p>
<p>  -(WKWebView <em>)webView:(WKWebView </em>)webView createWebViewWithConfiguration:(WKWebViewConfiguration <em>)configuration forNavigationAction:(WKNavigationAction </em>)navigationAction windowFeatures:(WKWindowFeatures *)windowFeatures<br>  {</p>
<pre><code>if (!navigationAction.targetFrame.isMainFrame) {
    [webView loadRequest:navigationAction.request];
}
return nil;
</code></pre><p>  }</p>
</li>
<li><p>cookie问题、白屏问题</p>
<p>这个问题都是参考 <a href="http://www.cnblogs.com/NSong/p/6489802.html" rel="external nofollow noopener noreferrer" target="_blank">WKWebView 那些坑</a>解决的，都有不错的解决方法</p>
</li>
<li><p>NSURLErrorCancelled 问题。</p>
<p>webview如果上一个请求没有完成，立即操作界面，触发新的网络请求，wk代理会收到错误，错误码是NSURLErrorCancelled，这个时候不应该展示错误页面，需要直接return。</p>
</li>
<li><p>webview出现错误页面诊断方法<br><img src="http://of685p9vy.bkt.clouddn.com/hybird/webview/webview/cordova_error.png" alt="插件扩展方法3"><br>遇到这个界面，请先自行定位，定位方法：</p>
<ul>
<li><p>首先找到GMBCordovaVC的WK失败代理：</p>
<pre><code>webView: didFailNavigation: withError:
webView:didFailProvisionalNavigation: withError:
</code></pre></li>
<li>然后打印出错误原因</li>
<li><p>根据NSError中的错误码分析错误的原因，解决问题。</p>
<p>下面是我遇到的几个记录下来的错误码，通过分析，大部分能明白错误的原因：</p>
<p>Error Domain=WebKitErrorDomain Code=102 “Frame load interrupted” UserInfo={_WKRecoveryAttempterErrorKey=<br><wkreloadframeerrorrecoveryattempter: 0x60000062fa80="">, NSErrorFailingURLStringKey=<a href="https://login.m.gomeplus.com/login.html?return_url=Ly9jYXNoaWVyLm0uZ29tZXBsdXMuY29tL3ZvdWNoZXJfbGlzdC0wLmh0bWw=" rel="external nofollow noopener noreferrer" target="_blank">https://login.m.gomeplus.com/login.html?return_url=Ly9jYXNoaWVyLm0uZ29tZXBsdXMuY29tL3ZvdWNoZXJfbGlzdC0wLmh0bWw=</a>, NSErrorFailingURLKey=<a href="https://login.m.gomeplus.com/login.html?return_url=Ly9jYXNoaWVyLm0uZ29tZXBsdXMuY29tL3ZvdWNoZXJfbGlzdC0wLmh0bWw=" rel="external nofollow noopener noreferrer" target="_blank">https://login.m.gomeplus.com/login.html?return_url=Ly9jYXNoaWVyLm0uZ29tZXBsdXMuY29tL3ZvdWNoZXJfbGlzdC0wLmh0bWw=</a>, NSLocalizedDescription=Frame load interrupted}</wkreloadframeerrorrecoveryattempter:></p>
<p>这个是加载中访问了<a href="https://login.m.gomeplus.com/login.html" rel="external nofollow noopener noreferrer" target="_blank">https://login.m.gomeplus.com/login.html</a> url，打断了加载。</p>
<p>Error Domain=NSURLErrorDomain Code=-1002 “unsupported URL” UserInfo={_WKRecoveryAttempterErrorKey=<wkreloadframeerrorrecoveryattempter: 0x608000233ae0="">, NSErrorFailingURLStringKey=itms-appss://itunes.apple.com/cn/app/guo-mei-zai-xian/id486744917?mt=8, NSErrorFailingURLKey=itms-appss://itunes.apple.com/cn/app/guo-mei-zai-xian/id486744917?mt=8, NSLocalizedDescription=unsupported URL, NSUnderlyingError=0x604000653440 {Error Domain=kCFErrorDomainCFNetwork Code=-1002 “(null)”}}</wkreloadframeerrorrecoveryattempter:></p>
<p>这个是JS中访问了不支持的scheme,itms-appss</p>
<p>Error Domain=NSURLErrorDomain Code=-1202 “The certificate for this server is invalid. You might be connecting to a server that is pretending to be “m.gomeholdings.com” which could put your confidential information at risk.” UserInfo={NSURLErrorFailingURLPeerTrustErrorKey=<sectrustref: 0x600000301200="">, NSLocalizedRecoverySuggestion=Would you like to connect to the server anyway?, NSErrorFailingURLStringKey=<a href="https://m.gomeholdings.com/content/2017042516183080569_.html" rel="external nofollow noopener noreferrer" target="_blank">https://m.gomeholdings.com/content/2017042516183080569_.html</a>, NSErrorFailingURLKey=<a href="https://m.gomeholdings.com/content/2017042516183080569_.html" rel="external nofollow noopener noreferrer" target="_blank">https://m.gomeholdings.com/content/2017042516183080569_.html</a>, NSErrorPeerCertificateChainKey=(<br>   “<cert(0x7fef30f1fc40) s:="" *.gomeholdings.com="" i:="" charles="" proxy="" ca="" (3="" \u516b\u6708="" 2016,="" bogon)="">“,<br>   “<cert(0x7fef30f12390) s:="" charles="" proxy="" ca="" (3="" \u516b\u6708="" 2016,="" bogon)="" i:="">“<br>), NSErrorClientCertificateStateKey=0, NSLocalizedDescription=The certificate for this server is invalid. You might be connecting to a server that is pretending to be “m.gomeholdings.com” which could put your confidential information at risk., _WKRecoveryAttempterErrorKey=<wkreloadframeerrorrecoveryattempter: 0x600000829e60="">, _kCFStreamErrorDomainKey=3, NSUnderlyingError=0x600000a52f90 {Error Domain=kCFErrorDomainCFNetwork Code=-1202 “(null)” UserInfo={_kCFStreamPropertySSLClientCertificateState=0, _kCFNetworkCFStreamSSLErrorOriginalValue=-9813, _kCFStreamErrorDomainKey=3, _kCFStreamErrorCodeKey=-9813}}, _kCFStreamErrorCodeKey=-9813}</wkreloadframeerrorrecoveryattempter:></cert(0x7fef30f12390)></cert(0x7fef30f1fc40)></sectrustref:></p>
<p>这个是认证服务器证书失败。</p>
</li>
</ul>
</li>
</ul>
<h1 id="8、调试Webview的JS代码方法"><a href="#8、调试Webview的JS代码方法" class="headerlink" title="8、调试Webview的JS代码方法"></a><div id="webview8">8、调试Webview的JS代码方法</div></h1><p>在项目的过程中，有时会遇到webview刷新不出界面的现象，这时，就需要调试html页面，查找问题，进而判断是否是咱们的问题。调试使用safari自带的功能就可以完成。具体步骤：</p>
<ul>
<li>打开safari开发模式。在safari菜单栏，选择safari、偏好设置、高级，在最下面将 “在菜单中显示开发菜单” 选中。<br><img src="http://of685p9vy.bkt.clouddn.com/hybird/webview/webview/safari_config_1.png" alt="插件扩展方法3"></li>
<li>链接到webview界面。选择开发、Simulator、 对应的页面，打开调试器。<br><img src="http://of685p9vy.bkt.clouddn.com/hybird/webview/webview/safari_config_2.png" alt="插件扩展方法3"></li>
<li>调试代码，查找错误，判断是否是JS的错误<br><img src="http://of685p9vy.bkt.clouddn.com/hybird/webview/webview/safari_config_3.png" alt="插件扩展方法3"></li>
</ul>
<h1 id="9、参考"><a href="#9、参考" class="headerlink" title="9、参考"></a><div id="webview9">9、参考</div></h1><ol>
<li><a href="https://www.jianshu.com/p/4fa8c4eb1316" rel="external nofollow noopener noreferrer" target="_blank">IOS进阶之WKWebView</a></li>
<li><a href="http://blog.csdn.net/pangshishan1/article/details/52212994" rel="external nofollow noopener noreferrer" target="_blank">iOS 给webView加进度条(WKWebView)</a></li>
<li><a href="http://www.cnblogs.com/NSong/p/6489802.html" rel="external nofollow noopener noreferrer" target="_blank">WKWebView 那些坑</a></li>
<li><a href="http://www.cocoachina.com/cms/wap.php?action=article&amp;id=21818" rel="external nofollow noopener noreferrer" target="_blank">WKWebView强大的新特性</a></li>
</ol>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-C语言语法/堆区（heap）和栈区（stack）的区别" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/C语言语法/">C语言语法</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/C-语言语法/">C 语言语法</a>
    </div>

                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/wiki/C语言语法/堆区（heap）和栈区（stack）的区别/">
            <time datetime="2018-04-03T04:07:12.000Z" itemprop="datePublished">2018-04-03</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/wiki/C语言语法/堆区（heap）和栈区（stack）的区别/">堆区（heap）和栈区（stack）的区别(转载)</a>
        </h1>
    

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <a id="more"></a>
<p>（1）申请方式</p>
<p>栈区：由编译器自动分配释放，存放函数的参数值，局部变量值等；</p>
<p>堆区：一般由程序员分配释放（使用new/delete或malloc/free），若程序员不释放，程序结束时可能由OS回收；</p>
<p>（2）操作方式</p>
<p>栈区：操作方式类似于数据结构中的栈；</p>
<p>堆区：不同于数据结构中的堆，分配方式类似于链表。</p>
<p>（3）申请后系统的响应 </p>
<p>栈区：只要栈的剩余空间大于所申请空间，系统将为程序提供内存，否则将报异常提示栈溢出；</p>
<p>堆区：首先应该知道操作系统有一个记录空闲内存地址的链表，当系统收到程序的申请时，会遍历该链表，寻找第一个空间大于所申请空间的堆结点，然后将该结点从空闲结点链表中删除，并将该结点的空间分配给程序，另外，对于大多数系统，会在这块内存空间中的首地址处记录本次分配的大小，这样，代码中的delete语句才能正确的释放本内存空间。另外，由于找到的堆结点的大小不一定正好等于申请的大小，系统会自动的将多余的那部分重新放入空闲链表中。 </p>
<p>（4）申请大小的限制</p>
<p>栈区：在Windows下,栈是向低地址扩展的数据结构，是一块连续的内存的区域。这句话的意思是栈顶的地址和栈的最大容量是系统预先规定好的，在WINDOWS下，栈的大小是2M（也有的说是1M，总之是一个编译时就确定的常数），如果申请的空间超过栈的剩余空间时，将提示overflow。因此，能从栈获得的空间较小。</p>
<p>堆区：堆是向高地址扩展的数据结构，是不连续的内存区域。这是由于系统是用链表来存储的空闲内存地址的，自然是不连续的，而链表的遍历方向是由低地址向高地址。堆的大小受限于计算机系统中有效的虚拟内存。由此可见，堆获得的空间比较灵活，也比较大。</p>
<p>（5）申请效率的比较</p>
<p>栈区：系统自动分配，速度较快。但程序员是无法控制的。</p>
<p>堆区：由new分配的内存，一般速度比较慢，而且容易产生内存碎片,不过用起来最方便. </p>
<p>注意：在WINDOWS下，最好的方式是用VirtualAlloc分配内存，他不是在堆，也不是在栈是直接在进程的地址空间中保留一快内存，虽然用起来最不方便。但是速度快，也最灵活。</p>
<p>（6）堆和栈中的存储内容</p>
<p>栈区：在函数调用时，第一个进栈的是主函数中后的下一条指令（函数调用语句的下一条可执行语句）的地址，然后是函数的各个参数，在大多数的C编译器中，参数是由右往左入栈的，然后是函数中的局部变量。注意静态变量是不入栈的。当本次函数调用结束后，局部变量先出栈，然后是参数，最后栈顶指针指向最开始存的地址，也就是主函数中的下一条指令，程序由该点继续运行。</p>
<p>堆区：一般是在堆的头部用一个字节存放堆的大小。堆中的具体内容有程序员安排。</p>
<p>参考资料</p>
<p><a href="https://blog.csdn.net/shanshanhi/article/details/50904706" rel="external nofollow noopener noreferrer" target="_blank">堆区（heap）和栈区（stack）的区别</a></p>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-IOS/foundation使用记录/NSDateFormatter时间格式" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/IOS/">IOS</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/IOS/foundation使用记录/">foundation使用记录</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/NSDateFormatter/">NSDateFormatter</a>
    </div>

                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/wiki/IOS/foundation使用记录/NSDateFormatter时间格式/">
            <time datetime="2018-03-22T07:35:49.000Z" itemprop="datePublished">2018-03-22</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/wiki/IOS/foundation使用记录/NSDateFormatter时间格式/">NSDateFormatter 时间格式</a>
        </h1>
    

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <h2 id="时间匹配格式"><a href="#时间匹配格式" class="headerlink" title="时间匹配格式"></a>时间匹配格式</h2><caption><a>Date Field Symbol Table</a></caption>

<table>
<thead>
<tr>
<th>Field</th>
<th>Sym.</th>
<th>No.</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>era</td>
<td>G</td>
<td>1..3</td>
<td>AD</td>
<td>Era - Replaced with the Era string for the current date. One to three letters for the abbreviated form, four letters for the long form, five for the narrow form.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>Anno Domini</td>
</tr>
<tr>
<td></td>
<td></td>
<td>5</td>
<td>A</td>
</tr>
<tr>
<td>year</td>
<td>y</td>
<td>1..n</td>
<td>1996</td>
<td>Year. Normally the length specifies the padding, but for two letters it also specifies the maximum length. Example:</td>
</tr>
<tr>
<td></td>
<td>Y</td>
<td>1..n</td>
<td>1997</td>
<td>Year (in “Week of Year” based calendars). This year designation is used in ISO year-week calendar as defined by ISO 8601, but can be used in non-Gregorian based calendar systems where week date processing is desired. May not always be the same value as calendar year.</td>
</tr>
<tr>
<td></td>
<td>u</td>
<td>1..n</td>
<td>4601</td>
<td>Extended year. This is a single number designating the year of this calendar system, encompassing all supra-year fields. For example, for the Julian calendar system, year numbers are positive, with an era of BCE or CE. An extended year value for the Julian calendar system assigns positive values to CE years and negative values to BCE years, with 1 BCE being year 0.</td>
</tr>
<tr>
<td>quarter</td>
<td>Q</td>
<td>1..2</td>
<td>02</td>
<td>Quarter - Use one or two for the numerical quarter, three for the abbreviation, or four for the full name.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>3</td>
<td>Q2</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>2nd quarter</td>
</tr>
<tr>
<td></td>
<td>q</td>
<td>1..2</td>
<td>02</td>
<td><strong>Stand-Alone</strong> Quarter - Use one or two for the numerical quarter, three for the abbreviation, or four for the full name.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>3</td>
<td>Q2</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>2nd quarter</td>
</tr>
<tr>
<td>month</td>
<td>M</td>
<td>1..2</td>
<td>09</td>
<td>Month - Use one or two for the numerical month, three for the abbreviation, or four for the full name, or five for the narrow name.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>3</td>
<td>Sept</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>September</td>
</tr>
<tr>
<td></td>
<td></td>
<td>5</td>
<td>S</td>
</tr>
<tr>
<td></td>
<td>L</td>
<td>1..2</td>
<td>09</td>
<td><strong>Stand-Alone</strong> Month - Use one or two for the numerical month, three for the abbreviation, or four for the full name, or 5 for the narrow name.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>3</td>
<td>Sept</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>September</td>
</tr>
<tr>
<td></td>
<td></td>
<td>5</td>
<td>S</td>
</tr>
<tr>
<td></td>
<td>l</td>
<td>1</td>
<td>*</td>
<td>Special symbol for Chinese leap month, used in combination with M. Only used with the Chinese calendar.</td>
</tr>
<tr>
<td>week</td>
<td>w</td>
<td>1..2</td>
<td>27</td>
<td>Week of Year.</td>
</tr>
<tr>
<td></td>
<td>W</td>
<td>1</td>
<td>3</td>
<td>Week of Month</td>
</tr>
<tr>
<td>day</td>
<td>d</td>
<td>1..2</td>
<td>1</td>
<td>Date - Day of the month</td>
</tr>
<tr>
<td></td>
<td>D</td>
<td>1..3</td>
<td>345</td>
<td>Day of year</td>
</tr>
<tr>
<td></td>
<td>F</td>
<td>1</td>
<td>2</td>
<td>Day of Week in Month. The example is for the 2nd Wed in July</td>
</tr>
<tr>
<td></td>
<td>g</td>
<td>1..n</td>
<td>2451334</td>
<td>Modified Julian day. This is different from the conventional Julian day number in two regards. First, it demarcates days at local zone midnight, rather than noon GMT. Second, it is a local number; that is, it depends on the local time zone. It can be thought of as a single number that encompasses all the date-related fields.</td>
</tr>
<tr>
<td>week day</td>
<td>E</td>
<td>1..3</td>
<td>Tues</td>
<td>Day of week - Use one through three letters for the short day, or four for the full name, or five for the narrow name.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>Tuesday</td>
</tr>
<tr>
<td></td>
<td></td>
<td>5</td>
<td>T</td>
</tr>
<tr>
<td></td>
<td>e</td>
<td>1..2</td>
<td>2</td>
<td>Local day of week. Same as E except adds a numeric value that will depend on the local starting day of the week, using one or two letters. For this example, Monday is the first day of the week.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>3</td>
<td>Tues</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>Tuesday</td>
</tr>
<tr>
<td></td>
<td></td>
<td>5</td>
<td>T</td>
</tr>
<tr>
<td></td>
<td>c</td>
<td>1</td>
<td>2</td>
<td><strong>Stand-Alone</strong> local day of week - Use one letter for the local numeric value (same as ‘e’), three for the short day, or four for the full name, or five for the narrow name.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>3</td>
<td>Tues</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>Tuesday</td>
</tr>
<tr>
<td></td>
<td></td>
<td>5</td>
<td>T</td>
</tr>
<tr>
<td>period</td>
<td>a</td>
<td>1</td>
<td>AM</td>
<td>AM or PM</td>
</tr>
<tr>
<td>hour</td>
<td>h</td>
<td>1..2</td>
<td>11</td>
<td>Hour [1-12].</td>
</tr>
<tr>
<td></td>
<td>H</td>
<td>1..2</td>
<td>13</td>
<td>Hour [0-23].</td>
</tr>
<tr>
<td></td>
<td>K</td>
<td>1..2</td>
<td>0</td>
<td>Hour [0-11].</td>
</tr>
<tr>
<td></td>
<td>k</td>
<td>1..2</td>
<td>24</td>
<td>Hour [1-24].</td>
</tr>
<tr>
<td></td>
<td>j</td>
<td>1..2</td>
<td>n/a</td>
<td>This is a special-purpose symbol. It must not occur in patterns, but is reserved for use in APIs doing flexible date pattern generation, and requests the preferred format (12 vs 24 hour) for the language in question.</td>
</tr>
<tr>
<td>minute</td>
<td>m</td>
<td>1..2</td>
<td>59</td>
<td>Minute. Use one or two for zero padding.</td>
</tr>
<tr>
<td>second</td>
<td>s</td>
<td>1..2</td>
<td>12</td>
<td>Second. Use one or two for zero padding.</td>
</tr>
<tr>
<td></td>
<td>S</td>
<td>1..n</td>
<td>3457</td>
<td>Fractional Second - rounds to the count of letters. (example is for 12.34567)</td>
</tr>
<tr>
<td></td>
<td>A</td>
<td>1..n</td>
<td>69540000</td>
<td>Milliseconds in day. This field behaves  <em>exactly</em>  like a composite of all time-related fields, not including the zone fields. As such, it also reflects discontinuities of those fields on DST transition days. On a day of DST onset, it will jump forward. On a day of DST cessation, it will jump backward. This reflects the fact that is must be combined with the offset field to obtain a unique local time value.</td>
</tr>
<tr>
<td>zone</td>
<td>z</td>
<td>1..3</td>
<td>PDT _fallbacks: _HPG-8:00 GMT-08:00</td>
<td>Timezone - with the s <em>pecific non-location format</em> . Where that is unavailable, falls back to  <em>localized GMT format</em> . Use one to three letters for the short format or four for the full format. In the short format, metazone names are not used unless the commonlyUsed flag is on in the locale.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>Pacific Daylight Time <em>fallbacks:</em>  HPG-8:00 GMT-08:00</td>
</tr>
<tr>
<td></td>
<td>Z</td>
<td>1..3</td>
<td>-0800</td>
<td>Timezone - Use one to three letters for RFC 822 format, four letters for the localized GMT format.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>HPG+8:00 <em>fallbacks:</em> GMT-08:00</td>
</tr>
<tr>
<td></td>
<td>v</td>
<td>1</td>
<td>PT</td>
<td>Timezone - with the  <em>generic</em>   <em>non-location format</em> . Where that is unavailable, uses special fallback rules given in  <em>[Appendix J][6]</em> . Use one letter for short format, four for long format.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>Pacific Time <em>fallbacks:</em> Pacific Time (Canada) Pacific Time (Yellowknife) United States (Los Angeles) Time HPG-8:35 GMT-08:35</td>
</tr>
<tr>
<td></td>
<td>V</td>
<td>1</td>
<td>PST HPG-8:00 GMT-08:00</td>
<td>Timezone - with the same format as z, except that metazone timezone abbreviations are to be displayed if available, regardless of the value of commonlyUsed.</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>United States (Los Angeles) Time <em>fallbacks:</em>  HPG-8:35 MT-08:35</td>
<td>Timezone - with the  <em>generic</em>   <em>location format</em> . Where that is unavailable, falls back to the localized GMT format. (Fallback is only necessary with a GMT-style Timezone ID, like Etc/GMT-830.) This is especially useful when presenting possible timezone choices for user selection, since the naming is more uniform than the v format.</td>
</tr>
</tbody>
</table>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="http://unicode.org/reports/tr35/tr35-10.html#Date_Format_Patternss" rel="external nofollow noopener noreferrer" target="_blank">UNICODE LOCALE DATA MARKUP LANGUAGE (LDML)</a></li>
</ol>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-IOS/虚拟内存/指定初始化函数" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/IOS/">IOS</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/IOS/虚拟内存/">虚拟内存</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/指定初始化函数/">指定初始化函数</a>
    </div>

                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/wiki/IOS/虚拟内存/指定初始化函数/">
            <time datetime="2018-03-21T04:07:12.000Z" itemprop="datePublished">2018-03-21</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/wiki/IOS/虚拟内存/指定初始化函数/">正确使用NS_DESIGNATED_INITIALIZER</a>
        </h1>
    

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <p>本文结束了下指定初始化函数，本文完全转载自 <a href="https://blog.csdn.net/zcube/article/details/51657417" rel="external nofollow noopener noreferrer" target="_blank">正确使用NS_DESIGNATED_INITIALIZER</a> 。</p>
<h2 id="为什么会提到NS-DESIGNATED-INITIALIZER"><a href="#为什么会提到NS-DESIGNATED-INITIALIZER" class="headerlink" title="为什么会提到NS_DESIGNATED_INITIALIZER"></a>为什么会提到NS_DESIGNATED_INITIALIZER</h2><p>============================================================</p>
<p>最近在清理项目警告，遇到了“Method override for the designated initializer”的警告，全称为：</p>
<ul>
<li><p>Method override for the designated initializer of the superclass ‘-init’ not found 或者</p>
</li>
<li><p>Method override for the designated initializer of the superclass ‘-initWithNibName:bundle:’ not found。</p>
</li>
</ul>
<p>经排查是因为头文件中出现NS_DESIGNATED_INITIALIZER 声明的初始化方法，如下：</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (instance<span class="keyword">type</span>)initWithPurchaseService:(<span class="type">HTLPrepayPurchaseService</span> *)service <span class="type">NS_DESIGNATED_INITIALIZER</span>;</span><br></pre></td></tr></table></figure>
<p>如果用了NS_DESIGNATED_INITIALIZER，那么警告中出现init、initWithNibName或是其它，取决于你的继承的父类类型：</p>
<p>UIViewController</p>
<ul>
<li><p>Method override for the designated initializer of the superclass ‘-initWithNibName:bundle:’ not found</p>
</li>
<li><p>Method override for the designated initializer of the superclass ‘-initWithCoder:’ not found</p>
</li>
</ul>
<p>UIView</p>
<ul>
<li><p>Method override for the designated initializer of the superclass ‘-initWithFrame:’ not found</p>
</li>
<li><p>Method override for the designated initializer of the superclass ‘-initWithCoder:’ not found</p>
</li>
</ul>
<p>NSObject</p>
<ul>
<li>Method override for the designated initializer of the superclass ‘-init’ not found</li>
</ul>
<h2 id="正确使用NS-DESIGNATED-INITIALIZER"><a href="#正确使用NS-DESIGNATED-INITIALIZER" class="headerlink" title="正确使用NS_DESIGNATED_INITIALIZER"></a>正确使用NS_DESIGNATED_INITIALIZER</h2><h3 id="为什么要用NS-DESIGNATED-INITIALIZER"><a href="#为什么要用NS-DESIGNATED-INITIALIZER" class="headerlink" title="为什么要用NS_DESIGNATED_INITIALIZER"></a>为什么要用NS_DESIGNATED_INITIALIZER</h3><p>Objective-C 中主要通过NS_DESIGNATED_INITIALIZER宏来实现指定构造器的。这里之所以要用这个宏，往往是想<font color="red">告诉调用者要用这个方法去初始化（构造）类对象</font>。</p>
<h3 id="怎样避免使用NS-DESIGNATED-INITIALIZER产生的警告"><a href="#怎样避免使用NS-DESIGNATED-INITIALIZER产生的警告" class="headerlink" title="怎样避免使用NS_DESIGNATED_INITIALIZER产生的警告"></a>怎样避免使用NS_DESIGNATED_INITIALIZER产生的警告</h3><p>如果子类指定了新的初始化器，那么在这个初始化器内部必须调用父类的Designated Initializer。并且需要重写父类的Designated Initializer，将其指向子类新的初始化器。</p>
<p>如下：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">instancetype</span>)initWithName:(<span class="built_in">NSString</span> *)name <span class="built_in">NS_DESIGNATED_INITIALIZER</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">instancetype</span>)init</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> [<span class="keyword">self</span> initWithName:<span class="string">@""</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithName:(<span class="built_in">NSString</span> *)name</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">self</span> = [<span class="keyword">super</span> init];</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">self</span>) </span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// do something</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">self</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="更好的做法"><a href="#更好的做法" class="headerlink" title="更好的做法"></a>更好的做法</h3><p>如果定义NS_DESIGNATED_INITIALIZER，大多是不想让调用者调用父类的初始化函数，只希望通过该类指定的初始化进行初始化，这时候就可以用NS_UNAVAILABLE宏。</p>
<p>如下：</p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (instance<span class="keyword">type</span>)init <span class="type">NS_UNAVAILABLE</span>;</span><br><span class="line">- (instance<span class="keyword">type</span>)initWithName:(<span class="type">NSString</span> *)name <span class="type">NS_DESIGNATED_INITIALIZER</span>;</span><br></pre></td></tr></table></figure>
<p>如果调用者使用init 初始化，编译器就会给出一个编译错误。使用NS_UNAVAILABLE后，就不需要在.m中重写父类初始化函数了。如果要允许调用者使用init就需要在.m中重写父类的初始化函数，如上提到的，否则就会报警告。</p>
<h2 id="避免使用new"><a href="#避免使用new" class="headerlink" title="避免使用new"></a>避免使用new</h2><p>如果使用new来创建对象的话，即使init被声明为NS_UNAVAILABLE，也不会收到编译器的警告和错误提示了。</p>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ol>
<li><a href="[http://stackoverflow.com/questions/26185239/ios-designated-initializers-using-ns-designated-initializer]">iOS Designated Initializers : Using NS_DESIGNATED_INITIALIZER
</a>  </li>
</ol>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-工具/工具下载地址/工具下载地址" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/工具/">工具</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/工具/工具下载地址/">工具下载地址</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/工具/">工具</a>
    </div>

                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/wiki/工具/工具下载地址/工具下载地址/">
            <time datetime="2018-03-13T10:01:31.000Z" itemprop="datePublished">2018-03-13</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/wiki/工具/工具下载地址/工具下载地址/">工具下载地址</a>
        </h1>
    

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
                
                <p></p><p>本文记录常用工具下载地址</p><p></p>
            
        
        
            </div>   
            <div class="article-more-link">
                <a href="/wiki/工具/工具下载地址/工具下载地址/#more">查看更多</a>
            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-工具/Cocoapods/cocoapod-private-repo" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/工具/">工具</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/工具/Cocoapods/">Cocoapods</a>
    </div>

                        
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/wiki/工具/Cocoapods/cocoapod-private-repo/">
            <time datetime="2018-03-01T06:50:54.000Z" itemprop="datePublished">2018-03-01</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/wiki/工具/Cocoapods/cocoapod-private-repo/">创建私有仓库</a>
        </h1>
    

            </header>
        
        
<div class="article-gallery">
    
    <a class="gallery-item" href="http://of685p9vy.bkt.clouddn.com/cocoa-pod/createRepo/privateRepo.png" rel="external nofollow noopener noreferrer" target="_blank">
        <img src="http://of685p9vy.bkt.clouddn.com/cocoa-pod/createRepo/privateRepo.png" itemprop="image">
    </a>
    
</div>

        <div class="article-entry" itemprop="articleBody">
        
        
            
                
                <p></p><p>本文说明制作Cocoapod私有库的过程。本文涉及到两个仓库 ‘官方仓库’、’私有仓库’。</p>
<ol>
<li><a href="https://github.com/CocoaPods/Specs.git" rel="external nofollow noopener noreferrer" target="_blank">官方仓库</a>的作用代表CocoaPods的官方podspec存放地址。 具体可以参考:<a href="https://github.com/CocoaPods/Specs" rel="external nofollow noopener noreferrer" target="_blank">CocoaPods官方源</a>、<a href="http://guides.cocoapods.org/making/specs-and-specs-repo.html" rel="external nofollow noopener noreferrer" target="_blank">Specs</a>; </li>
<li><a href="https://github.com/jianli2017/LJRepo.git" rel="external nofollow noopener noreferrer" target="_blank">私有仓库</a>的是私有podspec存放地址。在git中仓库名称是LJRepo，clone到本地的别名是MyPrivateRepo。后文中私有仓库–LJRepo指的git地址，MyPrivateRepo指的是clone到本地的名称。</li>
</ol><p></p>
            
        
        
            </div>   
            <div class="article-more-link">
                <a href="/wiki/工具/Cocoapods/cocoapod-private-repo/#more">查看更多</a>
            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-工具/SSH/ssh-theory" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/工具/">工具</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/工具/SSH/">SSH</a>
    </div>

                        
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/wiki/工具/SSH/ssh-theory/">
            <time datetime="2018-02-27T10:11:35.000Z" itemprop="datePublished">2018-02-27</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/wiki/工具/SSH/ssh-theory/">图解SSH原理</a>
        </h1>
    

            </header>
        
        
<div class="article-gallery">
    
    <a class="gallery-item" href="http://of685p9vy.bkt.clouddn.com/ssh/theory/overall.png" rel="external nofollow noopener noreferrer" target="_blank">
        <img src="http://of685p9vy.bkt.clouddn.com/ssh/theory/overall.png" itemprop="image">
    </a>
    
</div>

        <div class="article-entry" itemprop="articleBody">
        
        
            
                
                <p></p><p>SSH是一种协议标准，其目的是实现安全远程登录以及其它安全网络服务。本文转载于<a href="https://www.jianshu.com/p/33461b619d53" rel="external nofollow noopener noreferrer" target="_blank">图解SSH原理</a></p><p></p>
            
        
        
            </div>   
            <div class="article-more-link">
                <a href="/wiki/工具/SSH/ssh-theory/#more">查看更多</a>
            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/">下一页 &raquo;</a>
        </nav>
    
</section>
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            LJ &copy; 2018 
            <a rel="external nofollow noopener noreferrer" href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png"></a>
            <br> Powered by <a href="http://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a>. Theme - <a href="https://github.com/zthxxx/hexo-theme-Wikitten" rel="external nofollow noopener noreferrer" target="_blank">wikitten</a>
        </div>
    </div>
</footer>
        
    
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'lijian'};
    (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
    || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>



    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true,
            TeX: {
                equationNumbers: {
                  autoNumber: 'AMS'
                }
            }
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
