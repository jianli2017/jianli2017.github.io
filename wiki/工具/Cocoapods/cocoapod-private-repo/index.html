<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    
    <title>cocoapod-private-repo | LJ小窝</title>
    
    
        <meta name="keywords" content="cocoapod-private-repo">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="一、创建私有的Spec Repo (备注：Git仓库1)二、创建Pod项目工程，并且有可以访问的项目版本控制地址 (备注：Git仓库2)三、创建并提交MyLibPod库的podspec文件到私有Spec Repo仓库四、使用制作好的Pod说明：在以上步骤一、二中需要创建两个Git创库: 1、Git仓库1的作用类似于CocoaPods的官方spec repo专门存放podspec 具体可以参考:C">
<meta property="og:type" content="article">
<meta property="og:title" content="cocoapod-private-repo">
<meta property="og:url" content="http://yoursite.com/wiki/工具/Cocoapods/cocoapod-private-repo/index.html">
<meta property="og:site_name" content="LJ小窝">
<meta property="og:description" content="一、创建私有的Spec Repo (备注：Git仓库1)二、创建Pod项目工程，并且有可以访问的项目版本控制地址 (备注：Git仓库2)三、创建并提交MyLibPod库的podspec文件到私有Spec Repo仓库四、使用制作好的Pod说明：在以上步骤一、二中需要创建两个Git创库: 1、Git仓库1的作用类似于CocoaPods的官方spec repo专门存放podspec 具体可以参考:C">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-03-01T06:55:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="cocoapod-private-repo">
<meta name="twitter:description" content="一、创建私有的Spec Repo (备注：Git仓库1)二、创建Pod项目工程，并且有可以访问的项目版本控制地址 (备注：Git仓库2)三、创建并提交MyLibPod库的podspec文件到私有Spec Repo仓库四、使用制作好的Pod说明：在以上步骤一、二中需要创建两个Git创库: 1、Git仓库1的作用类似于CocoaPods的官方spec repo专门存放podspec 具体可以参考:C">
    

    
        <link rel="alternate" href="/atom.xml" title="LJ小窝" type="application/atom+xml">
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">
    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/libs/jquery/plugins/cookie/1.4.1/jquery.cookie.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>
</html>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">LJ小窝</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/">首页</a>
                
                    <a class="main-nav-link" href="/archives">归档</a>
                
                    <a class="main-nav-link" href="/categories">分类</a>
                
                    <a class="main-nav-link" href="/tags">标签</a>
                
                    <a class="main-nav-link" href="/about">关于</a>
                
            </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/">首页</a></td>
                
                    <td><a class="main-nav-link" href="/archives">归档</a></td>
                
                    <td><a class="main-nav-link" href="/categories">分类</a></td>
                
                    <td><a class="main-nav-link" href="/tags">标签</a></td>
                
                    <td><a class="main-nav-link" href="/about">关于</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索">
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap" id="categories">
        <h3 class="widget-title">
            <span>分类</span>
            &nbsp;
            <a id="allExpand" href="#">
                <i class="fa fa-angle-double-down fa-2x"></i>
            </a>
        </h3>
        
        
        
         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            C语言语法
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/C语言语法/CC_pointer_memry/">二级指针动态申请内存</a></li>  <li class="file"><a href="/wiki/C语言语法/struct_Analize/">struct定义语法</a></li>  <li class="file"><a href="/wiki/C语言语法/union定义/">union定义(转载)</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Hybird
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            weex
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/Hybird/weex/weex-conmunication/">weex 通信原理分析</a></li>  <li class="file"><a href="/wiki/Hybird/weex/event-analize/">weex 事件原理分析</a></li>  <li class="file"><a href="/wiki/Hybird/weex/weex-debug/">搭建weex断点调试环境</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            IOS_Runtime
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS_Runtime/Objective-C-消息发送与转发机制原理/">Objective-C 消息发送与转发机制原理</a></li>  <li class="file"><a href="/wiki/IOS_Runtime/runtime1/">runtime1</a></li>  <li class="file"><a href="/wiki/IOS_Runtime/meta_class/">What is a meta-class in Objective-C(译文)</a></li>  <li class="file"><a href="/wiki/IOS_Runtime/神经病院Objective-C-Runtime住院第二天——消息发送与转发（转载/">神经病院Objective-C Runtime住院第二天——消息发送与转发（转载)</a></li>  <li class="file"><a href="/wiki/IOS_Runtime/神经病院Objective-C-Runtime入院第一天——isa和Class/">神经病院Objective-C Runtime入院第一天——isa和Class(转载)</a></li>  <li class="file"><a href="/wiki/IOS_Runtime/神经病院Objective-C-Runtime出院第三天——如何正确使用Runtime-转载/">神经病院Objective-C Runtime出院第三天——如何正确使用Runtime(转载)</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            IOS基础知识
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Category
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS基础知识/Category/深入理解Objective-C：Category/">深入理解Objective-C：Category(转载)</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            GCD
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS基础知识/GCD/use-dispatch-semaphore/">dispatch_semaphore 的使用方法</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            crash
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS基础知识/crash/Analize_Crash/">收集、符号化IOS崩溃日志</a></li>  <li class="file"><a href="/wiki/IOS基础知识/crash/KSCrash_Analize/">KSCrash崩溃收集原理浅析</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            foundation
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/IOS基础知识/foundation/NSInvocation的基本使/">NSInvocation的基本使</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            JS
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/JS/CSS笔记/">CSS笔记</a></li>  <li class="file"><a href="/wiki/JS/flexBox/">flexBox 伸缩盒子模型</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory open">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder-open"></i>
                            &nbsp;
                            工具
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory open">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder-open"></i>
                            &nbsp;
                            Cocoapods
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/Cocoapods/Cocoapods-new-spec/">Cocoapods-new-spec</a></li>  <li class="file"><a href="/wiki/工具/Cocoapods/cocoapod-learn-install/">cocoapod学习 安装和使用（1）</a></li>  <li class="file active"><a href="/wiki/工具/Cocoapods/cocoapod-private-repo/">cocoapod-private-repo</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            IOS模拟器安装app
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/IOS模拟器安装app/IOS_simulator_install_app/">给IOS模拟器按照APP</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            SSH
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/SSH/ssh-theory/">图解SSH原理</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            git
                        </a>
                         <ul class="unstyled" id="tree"> 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            git简略版
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/git/git简略版/git简略版/">Git笔记</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            git详细记录
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/git/git详细记录/git仓库/">Git仓库(转载)</a></li>  <li class="file"><a href="/wiki/工具/git/git详细记录/git分支管理/">Git分支管理(转载)</a></li>  <li class="file"><a href="/wiki/工具/git/git详细记录/git工作区/">git时光穿梭(转载)</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            hexo
                        </a>
                         <ul class="unstyled" id="tree">  <li class="file"><a href="/wiki/工具/hexo/自己搭建博客的经历/">自己搭建博客的经历</a></li>  <li class="file"><a href="/wiki/工具/hexo/hexo-use/">hexo使用指南</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                     </ul> 
    </div>
    <script>
        $(document).ready(function() {
            var iconFolderOpenClass  = 'fa-folder-open';
            var iconFolderCloseClass = 'fa-folder';
            var iconAllExpandClass = 'fa-angle-double-down';
            var iconAllPackClass = 'fa-angle-double-up';
            // Handle directory-tree expansion:
            // 左键单独展开目录
            $(document).on('click', '#categories a[data-role="directory"]', function (event) {
                event.preventDefault();

                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var subtree = $(this).siblings('ul');
                icon.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if (expanded) {
                    if (typeof subtree != 'undefined') {
                        subtree.slideUp({ duration: 100 });
                    }
                    icon.addClass(iconFolderCloseClass);
                } else {
                    if (typeof subtree != 'undefined') {
                        subtree.slideDown({ duration: 100 });
                    }
                    icon.addClass(iconFolderOpenClass);
                }
            });
            // 右键展开下属所有目录
            $('#categories a[data-role="directory"]').bind("contextmenu", function(event){
                event.preventDefault();
                
                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var listNode = $(this).siblings('ul');
                var subtrees = $.merge(listNode.find('li ul'), listNode);
                var icons = $.merge(listNode.find('.fa'), icon);
                icons.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if(expanded) {
                    subtrees.slideUp({ duration: 100 });
                    icons.addClass(iconFolderCloseClass);
                } else {
                    subtrees.slideDown({ duration: 100 });
                    icons.addClass(iconFolderOpenClass);
                }
            })
            // 展开关闭所有目录按钮
            $(document).on('click', '#allExpand', function (event) {
                event.preventDefault();
                
                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconAllExpandClass);
                icon.removeClass(iconAllExpandClass).removeClass(iconAllPackClass);
                if(expanded) {
                    $('#sidebar .fa.fa-folder').removeClass('fa-folder').addClass('fa-folder-open')
                    $('#categories li ul').slideDown({ duration: 100 });
                    icon.addClass(iconAllPackClass);
                } else {
                    $('#sidebar .fa.fa-folder-open').removeClass('fa-folder-open').addClass('fa-folder')
                    $('#categories li ul').slideUp({ duration: 100 });
                    icon.addClass(iconAllExpandClass);
                }
            });  
        });
    </script>

    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
            <section id="main"><article id="post-工具/Cocoapods/cocoapod-private-repo" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/工具/">工具</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/工具/Cocoapods/">Cocoapods</a>
    </div>

                        
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/wiki/工具/Cocoapods/cocoapod-private-repo/">
            <time datetime="2018-03-01T06:50:54.000Z" itemprop="datePublished">2018-03-01</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 class="article-title" itemprop="name">
            cocoapod-private-repo
        </h1>
    

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
                <div id="toc" class="toc-article">
                <strong class="toc-title">文章目录</strong>
                    <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#一、创建私有的Spec-Repo-备注：Git仓库1"><span class="toc-number">1.</span> <span class="toc-text">一、创建私有的Spec Repo (备注：Git仓库1)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#二、创建Pod项目工程，并且有可以访问的项目版本控制地址-备注：Git仓库2"><span class="toc-number">2.</span> <span class="toc-text">二、创建Pod项目工程，并且有可以访问的项目版本控制地址 (备注：Git仓库2)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#三、创建并提交MyLibPod库的podspec文件到私有Spec-Repo仓库"><span class="toc-number">3.</span> <span class="toc-text">三、创建并提交MyLibPod库的podspec文件到私有Spec Repo仓库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#四、使用制作好的Pod"><span class="toc-number">4.</span> <span class="toc-text">四、使用制作好的Pod</span></a></li></ol><li class="toc-item toc-level-3"><a class="toc-link" href="#一、创建私有的Spec-Repo"><span class="toc-number"></span> <span class="toc-text">一、创建私有的Spec Repo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、创建Pod项目工程"><span class="toc-number"></span> <span class="toc-text">二、创建Pod项目工程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三、创建并提交MyLibPod库的podspec文件到私有Spec-Repo仓库-1"><span class="toc-number"></span> <span class="toc-text">三、创建并提交MyLibPod库的podspec文件到私有Spec Repo仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#四、使用制作好的Pod-1"><span class="toc-number">1.</span> <span class="toc-text">四、使用制作好的Pod</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考资料"><span class="toc-number"></span> <span class="toc-text">参考资料</span></a>
                </li></div>
            
        
        
            <a id="more"></a>
<h4 id="一、创建私有的Spec-Repo-备注：Git仓库1"><a href="#一、创建私有的Spec-Repo-备注：Git仓库1" class="headerlink" title="一、创建私有的Spec Repo (备注：Git仓库1)"></a>一、创建私有的Spec Repo <a href="https://link.jianshu.com?t=https://git.coding.net/kensla/MySpecs.git" rel="external nofollow noopener noreferrer" target="_blank">(备注：Git仓库1)</a></h4><h4 id="二、创建Pod项目工程，并且有可以访问的项目版本控制地址-备注：Git仓库2"><a href="#二、创建Pod项目工程，并且有可以访问的项目版本控制地址-备注：Git仓库2" class="headerlink" title="二、创建Pod项目工程，并且有可以访问的项目版本控制地址 (备注：Git仓库2)"></a>二、创建Pod项目工程，并且有可以访问的项目版本控制地址 <a href="https://link.jianshu.com?t=https://git.coding.net/kensla/MyLib.git" rel="external nofollow noopener noreferrer" target="_blank">(备注：Git仓库2)</a></h4><h4 id="三、创建并提交MyLibPod库的podspec文件到私有Spec-Repo仓库"><a href="#三、创建并提交MyLibPod库的podspec文件到私有Spec-Repo仓库" class="headerlink" title="三、创建并提交MyLibPod库的podspec文件到私有Spec Repo仓库"></a>三、创建并提交MyLibPod库的podspec文件到私有Spec Repo仓库</h4><h4 id="四、使用制作好的Pod"><a href="#四、使用制作好的Pod" class="headerlink" title="四、使用制作好的Pod"></a>四、使用制作好的Pod</h4><p>说明：在以上步骤一、二中需要创建两个Git创库: 1、<a href="https://link.jianshu.com?t=https://git.coding.net/kensla/MySpecs.git" rel="external nofollow noopener noreferrer" target="_blank">Git仓库1</a>的作用类似于CocoaPods的官方spec repo专门存放podspec 具体可以参考:<a href="https://link.jianshu.com?t=https://github.com/CocoaPods/Specs" rel="external nofollow noopener noreferrer" target="_blank">CocoaPods官方源</a>、<a href="https://link.jianshu.com?t=http://guides.cocoapods.org/making/specs-and-specs-repo.html" rel="external nofollow noopener noreferrer" target="_blank">Specs</a>; 2、<a href="https://link.jianshu.com?t=https://git.coding.net/kensla/MyLib.git" rel="external nofollow noopener noreferrer" target="_blank">Git仓库2</a>的是私有库的源码Git版本控制地址。</p>
<h3 id="一、创建私有的Spec-Repo"><a href="#一、创建私有的Spec-Repo" class="headerlink" title="一、创建私有的Spec Repo"></a>一、创建私有的Spec Repo</h3><p>Spec Repo 是所有的Pods的一个索引，是所有公开的Pods 的podspec 文件的一个仓库，其实就是一个部署在服务器的Git仓库，当你使用CocoaPods 后它会被Clone到本地的 ~/.cocoapods/repos 目录下,大概的文件目录如下:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── <span class="selector-tag">MySpecs</span></span><br><span class="line">│   ├── <span class="selector-tag">MyLib</span></span><br><span class="line">│   │   └── 0<span class="selector-class">.1</span><span class="selector-class">.1</span></span><br><span class="line">│   │       └── <span class="selector-tag">MyLib</span><span class="selector-class">.podspec</span></span><br><span class="line">│   └── <span class="selector-tag">README</span><span class="selector-class">.md</span></span><br><span class="line">└── <span class="selector-tag">master</span></span><br><span class="line">    ├── <span class="selector-tag">CocoaPods-version</span><span class="selector-class">.yml</span></span><br><span class="line">    ├── <span class="selector-tag">README</span><span class="selector-class">.md</span></span><br><span class="line">    └── <span class="selector-tag">Specs</span></span><br><span class="line">        ├── !<span class="selector-tag">ProtoCompiler</span></span><br><span class="line">        │   ├── 3<span class="selector-class">.0</span><span class="selector-class">.0</span></span><br><span class="line">        │   ├── 3<span class="selector-class">.0</span><span class="selector-class">.0-beta-3</span><span class="selector-class">.1</span></span><br><span class="line">        │   └── 3<span class="selector-class">.0</span><span class="selector-class">.0-beta-4</span></span><br><span class="line">        ├── !<span class="selector-tag">ProtoCompiler-gRPCPlugin</span></span><br><span class="line">        │   ├── 0<span class="selector-class">.14</span><span class="selector-class">.0</span></span><br><span class="line">        │   ├── 1<span class="selector-class">.0</span><span class="selector-class">.0</span></span><br><span class="line">        │   ├── 1<span class="selector-class">.0</span><span class="selector-class">.0-pre1</span></span><br><span class="line">        │   ├── 1<span class="selector-class">.0</span><span class="selector-class">.0-pre1</span><span class="selector-class">.1</span></span><br><span class="line">        │   └── 1<span class="selector-class">.0</span><span class="selector-class">.0-pre1</span><span class="selector-class">.2</span></span><br></pre></td></tr></table></figure>
<p>Tip：~/.cocoapods/repos文件是一个隐藏目录，在Mac 上默认是看不到隐藏目录的，但是我们可以通过「终端」应用程序打开。在Terminal中执行以下命令显示隐藏文件:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ defaults <span class="built_in">write</span> com.apple.finder AppleShowAllFiles -<span class="built_in">boolean</span> <span class="literal">true</span> ; killall Finder</span><br></pre></td></tr></table></figure>
<p>执行以下命令恢复隐藏文件:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ defaults <span class="built_in">write</span> com.apple.finder AppleShowAllFiles -<span class="built_in">boolean</span> <span class="literal">false</span> ; killall Finder</span><br></pre></td></tr></table></figure>
<p>上文的目录树形图就是我电脑的本地的 ~/.cocoapods/repos目录，其中master就是官方的Sepc Repo,跟master同目录级别的MySpecs目录就是我自己的创建的私有Sepc Repo。</p>
<p>1、首先在<a href="https://link.jianshu.com?t=https://coding.net/" rel="external nofollow noopener noreferrer" target="_blank">coding.net</a>上创建一个MySpecs项目,当然你也是可以在公司内网创建的。 2、然后在Terminal中执行以下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> pod repo add [Private Repo Name] [GitHub HTTPS <span class="built_in">clone</span> URL]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> pod repo add MySpecs https://git.coding.net/kensla/MySpecs.git</span></span><br></pre></td></tr></table></figure>
<p>注意：这个Git 仓库地址要换成你自己的创建的 Specs git 地址！！！ 成功后会在~/.cocoapods/repos目录下就能看到MySpecs了，至此，第一步创建私有 Spec Repo就完成了。</p>
<h3 id="二、创建Pod项目工程"><a href="#二、创建Pod项目工程" class="headerlink" title="二、创建Pod项目工程"></a>二、创建Pod项目工程</h3><p>1.创建Pod项目工程 首先，在<a href="https://link.jianshu.com?t=https://coding.net/" rel="external nofollow noopener noreferrer" target="_blank">coding.net</a>上创建一个MyLib项目,当然你也是可以在公司内网创建的。 然后，使用Cocoapods提供的一个<a href="https://link.jianshu.com?t=http://guides.cocoapods.org/making/using-pod-lib-create" rel="external nofollow noopener noreferrer" target="_blank">Using Pod Lib Create</a> 工具创建一个工程。</p>
<p>在Terminal中执行cd进入要创建项目的目录然后 执行以下命令：</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pod lib create [项目名]</span></span><br><span class="line">$pod <span class="class"><span class="keyword">lib</span> <span class="title">create</span> <span class="title">MyLib</span></span></span><br></pre></td></tr></table></figure>
<p>接着在Terminal控制台会输出：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Cloning `<span class="keyword">https</span>://github.com/CocoaPods/pod-template.git` <span class="keyword">into</span> `MyLib`.</span><br><span class="line">Configuring MyLib template.</span><br><span class="line"><span class="comment">------------------------------</span></span><br><span class="line">To <span class="built_in">get</span> you started we need <span class="built_in">to</span> ask <span class="keyword">a</span> few questions, this should only take <span class="keyword">a</span> minute.</span><br><span class="line">If this is your <span class="keyword">first</span> <span class="built_in">time</span> we recommend running through <span class="keyword">with</span> <span class="keyword">the</span> guide: </span><br><span class="line">- <span class="keyword">http</span>://guides.cocoapods.org/making/<span class="keyword">using</span>-pod-lib-<span class="built_in">create</span>.html</span><br><span class="line">( hold cmd <span class="keyword">and</span> double click links <span class="built_in">to</span> <span class="built_in">open</span> <span class="keyword">in</span> <span class="keyword">a</span> browser. )</span><br><span class="line">What language <span class="built_in">do</span> you want <span class="built_in">to</span> use?? [ Swift / ObjC ]</span><br><span class="line">&gt; ObjC</span><br></pre></td></tr></table></figure>
<p>第一个问题是问你选择Swift还是Objc构建项目。此教程 选的是ObjC</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Would you like <span class="built_in">to</span> <span class="built_in">include</span> <span class="keyword">a</span> demo application <span class="keyword">with</span> your library? [ Yes / No ]</span><br><span class="line">&gt; Yes</span><br></pre></td></tr></table></figure>
<p>第二个问题问你是否需要创建一个Demo项目，此教程选的是Yes</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Which testing frameworks will you <span class="keyword">use</span>? [ Specta / Kiwi / <span class="keyword">None</span> ]</span><br><span class="line">&gt; Specta</span><br></pre></td></tr></table></figure>
<p>第三个问题让你是否选择一个测试框架，此教程选 Specta</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Would you like <span class="keyword">to</span> <span class="keyword">do</span> view based testing? [ <span class="literal">Yes</span> / <span class="literal">No</span> ]</span><br><span class="line"> &gt; <span class="literal">Yes</span></span><br></pre></td></tr></table></figure>
<p>第四个问题是否基于View测试，选Yes</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">What <span class="keyword">is</span> your <span class="class"><span class="keyword">class</span> <span class="title">prefix</span>?</span></span><br><span class="line">&gt; ZYK</span><br></pre></td></tr></table></figure>
<p>第五个问题是询问 类的前缀，设为ZYK</p>
<p>设置完成后控制台输出:</p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Running pod install <span class="keyword">on</span> your <span class="keyword">new</span> <span class="keyword">library</span>.</span><br><span class="line"></span><br><span class="line">[!] No `Podfile<span class="string">' found in the project directory.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Ace! you'</span>re ready <span class="keyword">to</span> go!</span><br><span class="line"></span><br><span class="line">We will start you off <span class="keyword">by</span> opening your project <span class="keyword">in</span> Xcode</span><br><span class="line"></span><br><span class="line">open <span class="string">'MyLib/Example/MyLib.xcworkspace'</span></span><br><span class="line"></span><br><span class="line">The file /Users/ken/Desktop/工作/MyLib/Example/MyLib.xcworkspace  does <span class="keyword">not</span> exist.</span><br><span class="line"></span><br><span class="line"><span class="keyword">To</span> learn more about the template see `https:<span class="comment">//github.com/CocoaPods/ pod-template.git`.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">To</span> learn more about creating a <span class="keyword">new</span> pod, see </span><br><span class="line">`http:<span class="comment">//guides.cocoapods.org/making/making-a-cocoapod`.</span></span><br></pre></td></tr></table></figure>
<p>成功后会在目录中创建好一个MyLib工程，结构如下：</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">Mylib</span><br><span class="line">├── Example ** 这个是第二个问题的 Demo项目 </span><br><span class="line">│   ├── MyLib</span><br><span class="line">│   │   ├── Images.xcassets</span><br><span class="line">│   │   │   ├── AppIcon.appiconset</span><br><span class="line">│   │   │   │   └── Contents.json</span><br><span class="line">│   │   │   └── LaunchImage.launchimage</span><br><span class="line">│   │   │       └── Contents.json</span><br><span class="line">│   │   ├── Main.storyboard</span><br><span class="line">│   │   ├── MyLib-Info.plist</span><br><span class="line">│   │   ├── MyLib-Prefix.pch</span><br><span class="line">│   │   ├── ZYKAppDelegate.<span class="built_in">h</span></span><br><span class="line">│   │   ├── ZYKAppDelegate.<span class="built_in">m</span></span><br><span class="line">│   │   ├── ZYKViewController.<span class="built_in">h</span></span><br><span class="line">│   │   ├── ZYKViewController.<span class="built_in">m</span></span><br><span class="line">│   │   ├── <span class="keyword">en</span>.lproj</span><br><span class="line">│   │   │   └── InfoPlist.strings</span><br><span class="line">│   │   └── main.<span class="built_in">m</span></span><br><span class="line">│   ├── MyLib.xcodeproj</span><br><span class="line">│   │   ├── project.pbxproj</span><br><span class="line">│   │   ├── project.xcworkspace</span><br><span class="line">│   │   │   └── contents.xcworkspacedata</span><br><span class="line">│   │   └── xcshareddata</span><br><span class="line">│   │       └── xcschemes</span><br><span class="line">│   │           └── MyLib-Example.xcscheme</span><br><span class="line">│   ├── Podfile</span><br><span class="line">│   └── Tests</span><br><span class="line">│       ├── Tests-Info.plist</span><br><span class="line">│       ├── Tests-Prefix.pch</span><br><span class="line">│       ├── Tests.<span class="built_in">m</span></span><br><span class="line">│       └── <span class="keyword">en</span>.lproj</span><br><span class="line">│           └── InfoPlist.strings</span><br><span class="line">├── LICENSE</span><br><span class="line">├── MyLib</span><br><span class="line">│   ├── Assets</span><br><span class="line">│   └── Classes</span><br><span class="line">│       └── ReplaceMe.<span class="keyword">m</span> **注意存放你自己实现的库相关代码！！！**</span><br><span class="line">├── MyLib.podspec  ** 库的podspec文件，这个是下一步需要重点配置的文件 ！！！**</span><br><span class="line">├── README.md</span><br><span class="line">└── _Pods.xcodeproj -&gt; Example/Pods/Pods.xcodeproj</span><br></pre></td></tr></table></figure>
<p>2、添加实现代码</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">├── MyLib</span><br><span class="line">│   ├── Assets</span><br><span class="line">│   └── Classes</span><br><span class="line">│       └── ReplaceMe<span class="selector-class">.m</span> **注意存放你自己实现的库相关代码！！！**</span><br></pre></td></tr></table></figure>
<p>在本教程中我在上面的Classes文件目录添加了 MyLib.h、UIColor+Fetch.h、UIColor+Fetch.m 等几个文件。现在目录结构如下:</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">        .</span><br><span class="line">├── Example</span><br><span class="line">│   ├── Build</span><br><span class="line">│   │   ├── Intermediates</span><br><span class="line">│   │   │   ├── MyLib.build</span><br><span class="line">│   │   │   ├── Pods.build</span><br><span class="line">│   │   │   └── PrecompiledHeaders</span><br><span class="line">│   │   └── Products</span><br><span class="line">│   │       └── Debug-iphoneos</span><br><span class="line">│   ├── MyLib</span><br><span class="line">│   │   ├── Images.xcassets</span><br><span class="line">│   │   │   ├── AppIcon.appiconset</span><br><span class="line">│   │   │   └── LaunchImage.launchimage</span><br><span class="line">│   │   ├── Main.storyboard</span><br><span class="line">│   │   ├── MyLib-Info.plist</span><br><span class="line">│   │   ├── MyLib-Prefix.pch</span><br><span class="line">│   │   ├── ZYKAppDelegate.h</span><br><span class="line">│   │   ├── ZYKAppDelegate.m</span><br><span class="line">│   │   ├── ZYKViewController.h</span><br><span class="line">│   │   ├── ZYKViewController.m</span><br><span class="line">│   │   ├── en.lproj</span><br><span class="line">│   │   │   └── InfoPlist.strings</span><br><span class="line">│   │   └── main.m</span><br><span class="line">│   ├── MyLib.xcodeproj</span><br><span class="line">│   │   ├── project.pbxproj</span><br><span class="line">│   │   ├── project.xcworkspace</span><br><span class="line">│   │   │   ├── contents.xcworkspacedata</span><br><span class="line">│   │   │   └── xcuserdata</span><br><span class="line">│   │   ├── xcshareddata</span><br><span class="line">│   │   │   └── xcschemes</span><br><span class="line">│   │   └── xcuserdata</span><br><span class="line">│   │       └── zhongyuanke.xcuserdatad</span><br><span class="line">│   ├── MyLib.xcworkspace</span><br><span class="line">│   │   ├── contents.xcworkspacedata</span><br><span class="line">│   │   └── xcuserdata</span><br><span class="line">│   │       └── zhongyuanke.xcuserdatad</span><br><span class="line">│   ├── Podfile</span><br><span class="line">│   ├── Podfile.lock</span><br><span class="line">│   ├── Pods</span><br><span class="line">│   │   ├── Expecta</span><br><span class="line">│   │   │   ├── Expecta</span><br><span class="line">│   │   │   ├── LICENSE</span><br><span class="line">│   │   │   └── README.md</span><br><span class="line">│   │   ├── Expecta+Snapshots</span><br><span class="line">│   │   │   ├── EXPMatchers+FBSnapshotTest.h</span><br><span class="line">│   │   │   ├── EXPMatchers+FBSnapshotTest.m</span><br><span class="line">│   │   │   ├── ExpectaObject+FBSnapshotTest.h</span><br><span class="line">│   │   │   ├── ExpectaObject+FBSnapshotTest.m</span><br><span class="line">│   │   │   ├── LICENSE.md</span><br><span class="line">│   │   │   └── README.md</span><br><span class="line">│   │   ├── FBSnapshotTestCase</span><br><span class="line">│   │   │   ├── FBSnapshotTestCase</span><br><span class="line">│   │   │   ├── LICENSE</span><br><span class="line">│   │   │   └── README.md</span><br><span class="line">│   │   ├── Headers</span><br><span class="line">│   │   ├── Local<span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span> Podspecs</span><br><span class="line">│   │   │   └── MyLib.podspec.json</span><br><span class="line">│   │   ├── Manifest.lock</span><br><span class="line">│   │   ├── MyLib</span><br><span class="line">│   │   │   ├── LICENSE</span><br><span class="line">│   │   │   ├── MyLib</span><br><span class="line">│   │   │   └── README.md</span><br><span class="line">│   │   ├── Pods.xcodeproj</span><br><span class="line">│   │   │   ├── project.pbxproj</span><br><span class="line">│   │   │   ├── project.xcworkspace</span><br><span class="line">│   │   │   └── xcuserdata</span><br><span class="line">│   │   ├── Specta</span><br><span class="line">│   │   │   ├── LICENSE</span><br><span class="line">│   │   │   ├── README.md</span><br><span class="line">│   │   │   └── Specta</span><br><span class="line">│   │   └── Target<span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span> Support<span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span><span class="symbol">\\</span> Files</span><br><span class="line">│   │       ├── Expecta</span><br><span class="line">│   │       ├── Expecta+Snapshots</span><br><span class="line">│   │       ├── FBSnapshotTestCase</span><br><span class="line">│   │       ├── MyLib</span><br><span class="line">│   │       ├── Pods-MyLib_Example</span><br><span class="line">│   │       ├── Pods-MyLib_Tests</span><br><span class="line">│   │       └── Specta</span><br><span class="line">│   └── Tests</span><br><span class="line">│       ├── Tests-Info.plist</span><br><span class="line">│       ├── Tests-Prefix.pch</span><br><span class="line">│       ├── Tests.m</span><br><span class="line">│       └── en.lproj</span><br><span class="line">│           └── InfoPlist.strings</span><br><span class="line">├── LICENSE</span><br><span class="line">├── MyLib</span><br><span class="line">│   ├── Assets</span><br><span class="line">│   └── Classes     ## 把你的库代码放在这个Classes文件夹 ！！！##</span><br><span class="line">│       ├── MyLib.h</span><br><span class="line">│       └── UIColor+Category</span><br><span class="line">│           ├── UIColor+Fetch.h </span><br><span class="line">│           └── UIColor+Fetch.m</span><br><span class="line">├── MyLib.podspec</span><br><span class="line">├── RE.md</span><br><span class="line">├── README.md</span><br><span class="line">└── _Pods.xcodeproj -&gt; Example/Pods/Pods.xcodeproj</span><br></pre></td></tr></table></figure>
<p>3.开发模式下测试pod库的代码 打开Example工程目录Podfile文件：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pod <span class="string">'MyLib'</span>, :<span class="function"><span class="params">path</span> =&gt;</span> <span class="string">'../'</span> # 指定路径</span><br><span class="line">#pod <span class="string">'MyLib'</span>, :<span class="function"><span class="params">podspec</span> =&gt;</span> <span class="string">'../MyLib.podspec'</span>  # 指定podspec文件</span><br></pre></td></tr></table></figure>
<p>然后在Example工程目录下执行 pod update命令安装依赖，打开项目工程，可以看到库文件都被加载到Pods子项目中了 不过它们并没有在Pods目录下，而是跟测试项目一样存在于Development Pods/MyLib中，这是因为我们是在本地测试，而没有把podspec文件添加到Spec Repo中的缘故。测试库文件没有问题,接着我们需要执行第4步</p>
<p>4.提交Pod库到<a href="https://link.jianshu.com?t=https://git.coding.net/kensla/MyLib.git" rel="external nofollow noopener noreferrer" target="_blank">Git仓库2</a> 在Terminal中执行 cd进入MyLib项目根目录然后，执行以下命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git add .</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -s -m <span class="string">"初始化MyLib 库"</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote add origin git@git.coding.net:kensla/MyLib.git           <span class="comment">#添加远端仓库</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin master     <span class="comment">#提交到远端仓库</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git tag -m <span class="string">"first release"</span> <span class="string">"0.1.0"</span> <span class="comment">#打上标签，这个很重要</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push --tags     <span class="comment">#推送tag到远端仓库</span></span></span><br></pre></td></tr></table></figure>
<p>到这里，成功提交到远程 <a href="https://link.jianshu.com?t=https://git.coding.net/kensla/MyLib.git" rel="external nofollow noopener noreferrer" target="_blank">Git仓库2</a>，MyLib Pod 库就初步完成了代码实现</p>
<h3 id="三、创建并提交MyLibPod库的podspec文件到私有Spec-Repo仓库-1"><a href="#三、创建并提交MyLibPod库的podspec文件到私有Spec-Repo仓库-1" class="headerlink" title="三、创建并提交MyLibPod库的podspec文件到私有Spec Repo仓库"></a>三、创建并提交MyLibPod库的podspec文件到私有Spec Repo仓库</h3><p>1.配置MyLibPod库的podspec 文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Be sure to run `pod lib lint MyLib.podspec<span class="string">' to ensure this is a</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> valid spec before submitting.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Any lines starting with a <span class="comment"># are optional, but their use is encouraged</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> To learn more about a Podspec see http://guides.cocoapods.org/syntax/podspec.html</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"></span><br><span class="line">Pod::Spec.new do |s|</span><br><span class="line"><span class="meta">  #</span><span class="bash">名称</span></span><br><span class="line">  s.name             = 'MyLib'</span><br><span class="line"><span class="meta">  #</span><span class="bash">版本号</span></span><br><span class="line">  s.version          = '0.1.0'</span><br><span class="line"><span class="meta">  #</span><span class="bash">简介</span></span><br><span class="line">  s.summary          = '这个是我的私有库项目Demo.'</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> This description is used to generate tags and improve search results.</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   * Think: What does it <span class="keyword">do</span>? Why did you write it? What is the focus?</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   * Try to keep it short, snappy and to the point.</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   * Write the description between the DESC delimiters below.</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   * Finally, don<span class="string">'t worry about the indent, CocoaPods strips it!</span></span></span><br><span class="line"></span><br><span class="line">  s.description      = &lt;&lt;-DESC</span><br><span class="line">  这个是教程的 私有库项目 学习Demo.</span><br><span class="line">                       DESC</span><br><span class="line"><span class="meta">  #</span><span class="bash">主页,这里要填写可以访问到的地址，不然验证不通过</span></span><br><span class="line">  s.homepage         = 'https://coding.net/u/kensla'</span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash"> s.screenshots     = <span class="string">'www.example.com/screenshots_1'</span>, <span class="string">'www.example.com/screenshots_2'</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash">开源协议</span></span><br><span class="line"></span><br><span class="line">  s.license          =   &#123; :type =&gt; 'MIT', :file =&gt; 'LICENSE' &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash">作者</span></span><br><span class="line">  s.author           = &#123; 'kensla' =&gt; '604217454@qq.com' &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash">项目地址，这里不支持ssh的地址，验证不通过，只支持HTTP和HTTPS，最好使用HTTPS。</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">这里的s.source须指向存放源代码的链接地址，而不是托管spec文件的repo地址</span></span><br><span class="line">  s.source           = &#123; :git =&gt; 'https://git.coding.net/kensla/MyLib.git', :tag =&gt; "0.1.0" &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash">s.social_media_url = <span class="string">'http://weibo.com/kensla'</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash">支持的平台及版本</span></span><br><span class="line">  s.ios.deployment_target = '7.0'</span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash">代码源文件地址，**/*表示Classes目录及其子目录下所有文件，如果有多个目录下则</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">用逗号分开，如果需要在项目中分组显示，这里也要做相应的设置</span></span><br><span class="line"></span><br><span class="line">  s.source_files = "MyLib/Classes/**/*"</span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash">资源文件地址</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> s.resource_bundles = &#123;</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">   <span class="string">'MyLib'</span> =&gt; [<span class="string">'MyLib/Assets/*.png'</span>]</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash">公开头文件地址</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">s.public_header_files = <span class="string">'MyLib/Classes/DDCommonBase.h'</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash">所需的framework，多个用逗号隔开</span></span><br><span class="line">  s.frameworks = 'UIKit'</span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash">依赖关系，该项目所依赖的其他库，如果有多个需要填写多个s.dependency</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> s.dependency <span class="string">'AFNetworking'</span>, <span class="string">'~&gt; 2.3'</span></span></span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>打开MyLib工程目录下的MyLib.podspec 文件并参考上面的说明配置好相关选项。podspec更多配置请参考:<a href="https://link.jianshu.com?t=http://guides.cocoapods.org/syntax/podspec.html" rel="external nofollow noopener noreferrer" target="_blank">官方文档</a></p>
<p>2.编辑完MyLib.podspec文件后，需要验证一下这个MyLib.podspec文件是否可用</p>
<p>在Terminal中执行cd进入MyLib项目根目录然后，执行以下命令：</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pod <span class="class"><span class="keyword">lib</span> <span class="title">lint</span></span></span><br></pre></td></tr></table></figure>
<p>当你看到 Terminal 中输出：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="selector-tag">-</span>&gt; <span class="selector-tag">MyLib</span> (0<span class="selector-class">.1</span><span class="selector-class">.0</span>)</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">MyLib</span> <span class="selector-tag">passed</span> <span class="selector-tag">validation</span>.</span><br></pre></td></tr></table></figure>
<p>表示这个MyLib.podspec 验证通过，是一个符合CocoaPods规则的配置文件。</p>
<p>3.本地测试MyLib.podspec文件 打开Example工程目录Podfile文件修改下pod 的引用</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#pod <span class="string">'MyLib'</span>, :<span class="function"><span class="params">path</span> =&gt;</span> <span class="string">'../'</span> # 指定路径</span><br><span class="line">pod <span class="string">'MyLib'</span>, :<span class="function"><span class="params">podspec</span> =&gt;</span> <span class="string">'../MyLib.podspec'</span>  # 指定podspec文件</span><br></pre></td></tr></table></figure>
<p>然后在Example工程目录下执行pod update命令安装依赖，打开项目工程，现在可以看到库文件都被加载到Pods子项目中了</p>
<p>4.向Spec Repo提交podspec 测试库文件没有问题我们就把MyLib.podspec提交到远程Spec Repo仓库中，就是本文开头说的<a href="https://link.jianshu.com?t=https://git.coding.net/kensla/MySpecs.git" rel="external nofollow noopener noreferrer" target="_blank">Git仓库1</a> 在Terminal中执行 cd进入MyLib项目根目录然后，执行以下命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> pod repo push [Repo名] [podspec 文件名字]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> pod repo push MySpecs MyLib.podspec</span></span><br></pre></td></tr></table></figure>
<p>如果提交成功，在Terminal会输出：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Validating spec</span><br><span class="line"> -&gt; MyLib (<span class="number">0.1</span>.<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">Updating the `MySpecs' repo</span><br><span class="line"></span><br><span class="line">Already up-to-date.</span><br><span class="line"></span><br><span class="line">Adding the spec to the `MySpecs' repo</span><br><span class="line"></span><br><span class="line"> - [No change] MyLib (<span class="number">0.1</span>.<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">Pushing the `MySpecs' repo</span><br><span class="line"></span><br><span class="line">Username <span class="keyword">for</span> <span class="symbol">'https</span>:<span class="comment">//git.coding.net': kensla</span></span><br><span class="line">Password <span class="keyword">for</span> <span class="symbol">'https</span>:<span class="comment">//kensla@git.coding.net': </span></span><br><span class="line">To https:<span class="comment">//git.coding.net/kensla/MySpecs.git</span></span><br><span class="line">   <span class="number">59</span>b080c..b44123d  master -&gt; master</span><br></pre></td></tr></table></figure>
<p>表示提交成功了！这个组件库就添加到我们的私有Spec Repo中了，可以进入到~/.cocoapods/repos/MySpecs目录下查看</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── <span class="selector-tag">MyLib</span></span><br><span class="line">│   └── 0<span class="selector-class">.1</span><span class="selector-class">.0</span></span><br><span class="line">│       └── <span class="selector-tag">MyLib</span><span class="selector-class">.podspec</span></span><br><span class="line">└── <span class="selector-tag">README</span><span class="selector-class">.md</span></span><br></pre></td></tr></table></figure>
<p>再去看我们的Spec Repo远端仓库 也就是<a href="https://link.jianshu.com?t=https://git.coding.net/kensla/MySpecs.git" rel="external nofollow noopener noreferrer" target="_blank">Git仓库1</a>，也有了一次提交，这个podspec也已经被Push上去了。</p>
<p>至此，我们的这个组件库就已经制作添加完成了，使用pod search命令就可以查到我们自己的库了. 在Terminal中执行 pod search MyLib</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">&gt; MyLib (<span class="number">0</span>.<span class="number">1.0</span>)</span></span><br><span class="line"><span class="ruby">这个是我的私有库项目Demo.</span></span><br><span class="line"><span class="ruby">pod <span class="string">'MyLib'</span>, <span class="string">'~&gt; 0.1.0'</span></span></span><br><span class="line"><span class="ruby">- <span class="symbol">Homepage:</span> <span class="symbol">https:</span>/<span class="regexp">/coding.net/u</span><span class="regexp">/kensla</span></span></span><br><span class="line"><span class="ruby">- <span class="symbol">Source:</span>   <span class="symbol">https:</span>/<span class="regexp">/git.coding.net/kensla</span><span class="regexp">/MyLib.git</span></span></span><br><span class="line"><span class="ruby">- <span class="symbol">Versions:</span> <span class="number">0</span>.<span class="number">1.0</span> [MySpecs repo]</span></span><br></pre></td></tr></table></figure>
<h4 id="四、使用制作好的Pod-1"><a href="#四、使用制作好的Pod-1" class="headerlink" title="四、使用制作好的Pod"></a>四、使用制作好的Pod</h4><p>在完成这一系列步骤之后，我们就可以在正式项目中使用这个私有的Pod了只需要在项目的Podfile里增加以下一行代码即可, 在正式项目的Podfile 里添加私有Spec Repo</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#私有Spec Repo</span></span><br><span class="line"><span class="built_in">source</span> <span class="string">'https://git.coding.net/kensla/DDSpecs.git'</span> </span><br><span class="line">pod <span class="string">'MyLib'</span>, <span class="string">'~&gt; 0.1.0'</span></span><br></pre></td></tr></table></figure>
<p>然后执行pod update，更新库依赖，然后打开项目可以看到，我们自己的库文件已经出现在Pods子项目中的Pods子目录下了，而不再是Development Pods。</p>
<p><a href="https://www.jianshu.com/p/107cc74847ab" rel="external nofollow noopener noreferrer" target="_blank">https://www.jianshu.com/p/107cc74847ab</a></p>
<p>[a]:</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><blockquote>
<ul>
<li><a href=""></a></li>
<li><a href=""></a></li>
</ul>
</blockquote>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>


    
<nav id="article-nav">
    
    
        <a href="/wiki/工具/SSH/ssh-theory/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">图解SSH原理</div>
        </a>
    
</nav>





    
    
        <section id="comments"> 
    <div class="ds-thread" data-thread-key="wiki/工具/Cocoapods/cocoapod-private-repo/" data-title="cocoapod-private-repo" data-url="http://yoursite.com/wiki/工具/Cocoapods/cocoapod-private-repo/"></div>
    <style>
        #ds-thread #ds-reset .ds-textarea-wrapper {
            background: none;
        }
        #ds-reset .ds-avatar img {
            box-shadow: none;
        }
        #ds-reset .ds-gradient-bg {
            background: #f7f7f7;
        }
        #ds-thread #ds-reset li.ds-tab a {
            border-radius: 3px;
        }
        #ds-thread #ds-reset .ds-post-button {
            color: white;
            border: none;
            box-shadow: none;
            background: #d32;
            text-shadow: none;
            font-weight: normal;
            font-family: 'Microsoft Yahei';
        }
        #ds-thread #ds-reset .ds-post-button:hover {
            color: white;
            background: #DE594C;
        }
        #ds-thread #ds-reset .ds-post-button:active {
            background: #d32;
        }
        #ds-smilies-tooltip ul.ds-smilies-tabs li a.ds-current {
            color: white;
            background: #d32;
            box-shadow: none;
            text-shadow: none;
            font-weight: normal;
        }
    </style>
 </section>
    




<!-- baidu url auto push script -->
<script type="text/javascript">
    !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=window.location.href,o=document.referrer;if(!e.test(r)){var n="//api.share.baidu.com/s.gif";o?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var t=new Image;t.src=n}}(window);
</script>     
</section>
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            LJ &copy; 2018 
            <a rel="external nofollow noopener noreferrer" href="http://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png"></a>
            <br> Powered by <a href="http://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a>. Theme - <a href="https://github.com/zthxxx/hexo-theme-Wikitten" rel="external nofollow noopener noreferrer" target="_blank">wikitten</a>
        </div>
    </div>
</footer>
        
    
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'lijian'};
    (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
    || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>



    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    
        <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true,
            TeX: {
                equationNumbers: {
                  autoNumber: 'AMS'
                }
            }
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
